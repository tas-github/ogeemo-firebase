"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7186],{51328:function(e,t,a){a.d(t,{Z:function(){return _}});var r=a(57437),n=a(2265),s=a(80624),l=a(79685),o=a(89733),i=a(54662),d=a(80023),c=a(29973),u=a(77209),m=a(70402),f=a(61557),p=a(88411),x=a(27629),h=a(31570),b=a(18259),y=a(71873),N=a(24917),g=a(3424),v=a(86763);let j=e=>"".concat(String(Math.floor(e/3600)).padStart(2,"0"),":").concat(String(Math.floor(e%3600/60)).padStart(2,"0"),":").concat(String(Math.floor(e%60)).padStart(2,"0")),w=e=>{let t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)};function _(e){let{isOpen:t,onOpenChange:a,entry:_,onSave:k}=e,[R,z]=(0,n.useState)(""),[C,T]=(0,n.useState)(""),[S,D]=(0,n.useState)(""),[M,L]=(0,n.useState)(""),[Z,I]=(0,n.useState)(0),H=(0,n.useRef)(null),{toast:A}=(0,v.pm)();(0,n.useEffect)(()=>{_&&t&&(z(_.subject),T(_.detailsHtml||""),D(w(_.startTime)),L(w(_.endTime)),I(_.billableRate||0),H.current&&(H.current.innerHTML=_.detailsHtml||""))},[_,t]);let F=(0,n.useMemo)(()=>{try{let e=(0,s.D)(S),t=(0,s.D)(M);return(0,l.c)(t,e)}catch(e){return 0}},[S,M]),E=(0,n.useMemo)(()=>F<=0||Z<=0?0:F/3600*Z,[F,Z]);if(!_)return null;let O=(e,t)=>{var a,r;document.execCommand(e,!1,t),null===(a=H.current)||void 0===a||a.focus(),T((null===(r=H.current)||void 0===r?void 0:r.innerHTML)||"")},U=e=>e.preventDefault();return(0,r.jsx)(i.Vq,{open:t,onOpenChange:a,children:(0,r.jsxs)(i.cZ,{className:"sm:max-w-2xl",children:[(0,r.jsxs)(i.fK,{children:[(0,r.jsx)(i.$N,{children:"Edit Event Details"}),(0,r.jsx)(i.Be,{children:"Modify the details for this logged event."})]}),(0,r.jsxs)("div",{className:"py-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Label,{htmlFor:"event-subject",children:"Subject"}),(0,r.jsx)(u.I,{id:"event-subject",value:R,onChange:e=>z(e.target.value)}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["For: ",_.contactName]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Label,{htmlFor:"start-time",children:"Start Time"}),(0,r.jsx)(u.I,{id:"start-time",type:"datetime-local",value:S,onChange:e=>D(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Label,{htmlFor:"end-time",children:"End Time"}),(0,r.jsx)(u.I,{id:"end-time",type:"datetime-local",value:M,onChange:e=>L(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Label,{children:"Duration"}),(0,r.jsx)(u.I,{value:j(F),readOnly:!0,disabled:!0,className:"font-mono"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Label,{htmlFor:"billable-rate-edit",children:"Billable Rate ($/hr)"}),(0,r.jsx)(u.I,{id:"billable-rate-edit",type:"number",value:Z,onChange:e=>I(Number(e.target.value))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.Label,{children:"Billable Amount"}),(0,r.jsx)(u.I,{value:"$".concat(E.toFixed(2)),readOnly:!0,disabled:!0,className:"font-mono font-semibold text-primary"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Separator,{className:"my-4"}),(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,r.jsxs)("div",{className:"border rounded-md",children:[(0,r.jsxs)("div",{className:"p-2 border-b flex items-center gap-1 flex-wrap",children:[(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Bold",onMouseDown:U,onClick:()=>O("bold"),children:(0,r.jsx)(f.Z,{className:"h-4 w-4"})}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Italic",onMouseDown:U,onClick:()=>O("italic"),children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Underline",onMouseDown:U,onClick:()=>O("underline"),children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Strikethrough",onMouseDown:U,onClick:()=>O("strikeThrough"),children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})}),(0,r.jsx)(c.Separator,{orientation:"vertical",className:"h-6 mx-1"}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Unordered List",onMouseDown:U,onClick:()=>O("insertUnorderedList"),children:(0,r.jsx)(b.Z,{className:"h-4 w-4"})}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Ordered List",onMouseDown:U,onClick:()=>O("insertOrderedList"),children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Blockquote",onMouseDown:U,onClick:()=>O("formatBlock","blockquote"),children:(0,r.jsx)(N.Z,{className:"h-4 w-4"})}),(0,r.jsx)(c.Separator,{orientation:"vertical",className:"h-6 mx-1"}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",title:"Insert Link",onMouseDown:U,onClick:()=>{let e=prompt("Enter a URL:");e&&O("createLink",e)},children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(d.ScrollArea,{className:"h-48",children:(0,r.jsx)("div",{ref:H,className:"prose dark:prose-invert max-w-none text-sm p-4 focus:outline-none min-h-[10rem]",contentEditable:!0,onInput:e=>T(e.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:C}})})]})]})]}),(0,r.jsxs)(i.cN,{children:[(0,r.jsx)(o.z,{variant:"ghost",onClick:()=>a(!1),children:"Cancel"}),(0,r.jsx)(o.z,{onClick:()=>{let e=(0,s.D)(S),t=(0,s.D)(M);if(isNaN(e.getTime())||isNaN(t.getTime())||t<=e){A({variant:"destructive",title:"Invalid Dates",description:"Please ensure start and end times are valid and the end time is after the start time."});return}k({id:_.id,subject:R,detailsHtml:C,startTime:e,endTime:t,duration:(0,l.c)(t,e),billableRate:Number(Z)||0}),a(!1)},children:"Save Changes"})]})]})})}},29943:function(e,t,a){a.d(t,{OL:function(){return h},_T:function(){return u},aR:function(){return i},f$:function(){return p},fY:function(){return m},le:function(){return b},xo:function(){return f},yT:function(){return x}});var r=a(57437),n=a(2265),s=a(76669),l=a(49354),o=a(89733);let i=s.fC;s.xz;let d=s.h_,c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});c.displayName=s.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n})]})});u.displayName=s.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="AlertDialogHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="AlertDialogFooter";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",a),...n})});p.displayName=s.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})});x.displayName=s.dk.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.aU,{ref:t,className:(0,l.cn)((0,o.d)(),a),...n})});h.displayName=s.aU.displayName;let b=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.$j,{ref:t,className:(0,l.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...n})});b.displayName=s.$j.displayName},69081:function(e,t,a){a.d(t,{f:function(){return d}});var r=a(57437);a(2265);var n=a(87640),s=a(51601),l=a(89349),o=a(49354),i=a(89733);function d(e){let{className:t,classNames:a,showOutsideDays:d=!0,...c}=e;return(0,r.jsx)(l._W,{showOutsideDays:d,className:(0,o.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,i.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,i.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,r.jsx)(n.Z,{className:(0,o.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,r.jsx)(s.Z,{className:(0,o.cn)("h-4 w-4",t),...a})}},...c})}d.displayName="Calendar"},31590:function(e,t,a){a.d(t,{$F:function(){return u},AW:function(){return f},Ju:function(){return x},Qk:function(){return m},VD:function(){return h},Xi:function(){return p},h_:function(){return c}});var r=a(57437),n=a(2265),s=a(81622),l=a(51601),o=a(60926),i=a(52732),d=a(49354);let c=s.fC,u=s.xz,m=s.ZA;s.Uv,s.Tr,s.Ee,n.forwardRef((e,t)=>{let{className:a,inset:n,children:o,...i}=e;return(0,r.jsxs)(s.fF,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...i,children:[o,(0,r.jsx)(l.Z,{className:"ml-auto"})]})}).displayName=s.fF.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=s.tu.displayName;let f=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...l}=e;return(0,r.jsx)(s.Uv,{children:(0,r.jsx)(s.VY,{ref:t,sideOffset:n,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});f.displayName=s.VY.displayName;let p=n.forwardRef((e,t)=>{let{className:a,inset:n,...l}=e;return(0,r.jsx)(s.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...l})});p.displayName=s.ck.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,checked:l,...i}=e;return(0,r.jsxs)(s.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),n]})}).displayName=s.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(s.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(i.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=s.Rk.displayName;let x=n.forwardRef((e,t)=>{let{className:a,inset:n,...l}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...l})});x.displayName=s.__.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...n})});h.displayName=s.Z0.displayName},80023:function(e,t,a){a.d(t,{ScrollArea:function(){return o}});var r=a(57437),n=a(2265),s=a(26770),l=a(49354);let o=n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,r.jsxs)(s.fC,{ref:t,className:(0,l.cn)("relative overflow-hidden",a),...o,children:[(0,r.jsx)(s.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,r.jsx)(i,{}),(0,r.jsx)(s.Ns,{})]})});o.displayName=s.fC.displayName;let i=n.forwardRef((e,t)=>{let{className:a,orientation:n="vertical",...o}=e;return(0,r.jsx)(s.gb,{ref:t,orientation:n,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...o,children:(0,r.jsx)(s.q4,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=s.gb.displayName},29973:function(e,t,a){a.d(t,{Separator:function(){return o}});var r=a(57437),n=a(2265),s=a(48484),l=a(49354);let o=n.forwardRef((e,t)=>{let{className:a,orientation:n="horizontal",decorative:o=!0,...i}=e;return(0,r.jsx)(s.f,{ref:t,decorative:o,orientation:n,className:(0,l.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",a),...i})});o.displayName=s.f.displayName},47304:function(e,t,a){a.d(t,{RM:function(){return i},SC:function(){return c},iA:function(){return l},pj:function(){return m},ss:function(){return u},xD:function(){return o},yt:function(){return d}});var r=a(57437),n=a(2265),s=a(49354);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",a),...n})})});l.displayName="Table";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",a),...n})});o.displayName="TableHeader";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",a),...n})});i.displayName="TableBody";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...n})});d.displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...n})});c.displayName="TableRow";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...n})});u.displayName="TableHead";let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...n})});m.displayName="TableCell",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",a),...n})}).displayName="TableCaption"},15410:function(e,t,a){a.d(t,{Y:function(){return n}});var r=a(2265);let n=()=>{let e=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useCallback)(()=>{if(!t.current)return;let e=t.current.innerHTML;document.body.innerHTML;let a=window.open("","","height=600,width=800");if(a){a.document.write("<html><head><title>Print</title>");let t=Array.from(document.styleSheets).map(e=>e.href?'<link rel="stylesheet" href="'.concat(e.href,'">'):"").join(""),r=Array.from(document.querySelectorAll("style")).map(e=>e.outerHTML).join("");a.document.write(t),a.document.write(r),a.document.write("</head><body >"),a.document.write(e),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout(()=>{a.print(),a.close()},500)}else{var r,n,s;let t=document.createElement("iframe");t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.border="0",document.body.appendChild(t);let a=(null===(r=t.contentWindow)||void 0===r?void 0:r.document)||t.contentDocument;a&&(a.write(e),a.close(),null===(n=t.contentWindow)||void 0===n||n.focus(),null===(s=t.contentWindow)||void 0===s||s.print()),setTimeout(()=>{document.body.removeChild(t)},500)}},[]);return{contentRef:t,triggerRef:e,handlePrint:a}}}}]);