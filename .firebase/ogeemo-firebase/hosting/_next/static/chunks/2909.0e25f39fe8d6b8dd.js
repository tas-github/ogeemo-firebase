"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2909],{92909:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(57437),a=n(2265),s=n(16463),o=n(54662),i=n(89733),l=n(77209),c=n(70402),d=n(29973),u=n(80023),f=n(61557),m=n(88411),p=n(27629),h=n(31570),x=n(18259),g=n(71873),w=n(24917),N=n(3424),j=n(25648),v=n(90952),b=n(4306),y=n(49354);function k(e){let{idea:t,isOpen:n,onOpenChange:k,onSave:z}=e,[C,S]=(0,a.useState)(t.title),[R,D]=(0,a.useState)(t.content),L=(0,a.useRef)(null),M=(0,s.useRouter)(),[T,Z]=(0,a.useState)(""),{isListening:A,startListening:I,stopListening:V,isSupported:_}=(0,b.I)({onTranscript:e=>{if(L.current){let t=T?"".concat(T," ").concat(e).trim():e;L.current.innerHTML=t,D(t);let n=document.createRange(),r=window.getSelection();r&&(n.selectNodeContents(L.current),n.collapse(!1),r.removeAllRanges(),r.addRange(n))}}});(0,a.useEffect)(()=>{S(t.title),D(t.content),L.current&&(L.current.innerHTML=t.content||"")},[t]);let E=(e,t)=>{var n,r;document.execCommand(e,!1,t),null===(n=L.current)||void 0===n||n.focus(),D((null===(r=L.current)||void 0===r?void 0:r.innerHTML)||"")},q=e=>e.preventDefault();return(0,r.jsx)(o.Vq,{open:n,onOpenChange:k,children:(0,r.jsxs)(o.cZ,{className:"w-full h-full max-w-none top-0 left-0 translate-x-0 translate-y-0 rounded-none sm:rounded-none flex flex-col p-0",children:[(0,r.jsxs)(o.fK,{className:"p-4 pb-2 border-b",children:[(0,r.jsx)(o.$N,{children:"Develop Idea"}),(0,r.jsx)(o.Be,{children:"Flesh out your idea with more details and formatting."})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsx)(c.Label,{htmlFor:"idea-title",children:"Title"}),(0,r.jsx)(l.I,{id:"idea-title",value:C,onChange:e=>S(e.target.value)})]}),(0,r.jsxs)("div",{className:"p-2 border-y flex items-center gap-1 flex-wrap",children:[(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Bold",onMouseDown:q,onClick:()=>E("bold"),children:(0,r.jsx)(f.Z,{className:"h-4 w-4"})}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Italic",onMouseDown:q,onClick:()=>E("italic"),children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Underline",onMouseDown:q,onClick:()=>E("underline"),children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Strikethrough",onMouseDown:q,onClick:()=>E("strikeThrough"),children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})}),(0,r.jsx)(d.Separator,{orientation:"vertical",className:"h-6 mx-1"}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Unordered List",onMouseDown:q,onClick:()=>E("insertUnorderedList"),children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Ordered List",onMouseDown:q,onClick:()=>E("insertOrderedList"),children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Blockquote",onMouseDown:q,onClick:()=>E("formatBlock","blockquote"),children:(0,r.jsx)(w.Z,{className:"h-4 w-4"})}),(0,r.jsx)(d.Separator,{orientation:"vertical",className:"h-6 mx-1"}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:"Insert Link",onMouseDown:q,onClick:()=>{let e=prompt("Enter a URL:");e&&E("createLink",e)},children:(0,r.jsx)(N.Z,{className:"h-4 w-4"})}),(0,r.jsx)(d.Separator,{orientation:"vertical",className:"h-6 mx-1"}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",title:A?"Stop dictation":"Dictate notes",onMouseDown:q,onClick:()=>{if(A)V();else{var e;Z(R),null===(e=L.current)||void 0===e||e.focus(),I()}},disabled:!1===_,className:(0,y.cn)(A&&"text-destructive"),children:A?(0,r.jsx)(j.Z,{className:"h-4 w-4"}):(0,r.jsx)(v.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(u.ScrollArea,{className:"flex-1",children:(0,r.jsx)("div",{ref:L,className:"prose dark:prose-invert max-w-none p-6 focus:outline-none h-full min-h-[300px]",contentEditable:!0,onInput:e=>{A||D(e.currentTarget.innerHTML)},dangerouslySetInnerHTML:{__html:R},placeholder:"Start developing your idea here..."})})]}),(0,r.jsxs)(o.cN,{className:"p-4 border-t flex-col sm:flex-row sm:justify-between items-center gap-2",children:[(0,r.jsx)(i.z,{onClick:()=>{try{sessionStorage.setItem("ogeemo-idea-to-project",JSON.stringify({title:C,description:R})),k(!1),M.push("/projects")}catch(e){console.error("Failed to save idea to session storage",e)}},className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Make it a project"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.z,{variant:"ghost",onClick:()=>k(!1),children:"Cancel"}),(0,r.jsx)(i.z,{onClick:()=>{z({...t,title:C,content:R})},children:"Save Idea"})]})]})]})})}},54662:function(e,t,n){n.d(t,{$N:function(){return x},Be:function(){return g},GG:function(){return u},Vq:function(){return l},cN:function(){return h},cZ:function(){return m},fK:function(){return p},hg:function(){return c}});var r=n(57437),a=n(2265),s=n(13304),o=n(74732),i=n(49354);let l=s.fC,c=s.xz,d=s.h_,u=s.x8,f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});f.displayName=s.aV.displayName;let m=a.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(s.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...l,children:[a,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=s.VY.displayName;let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5",t),...n})};p.displayName="DialogHeader";let h=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};h.displayName="DialogFooter";let x=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});x.displayName=s.Dx.displayName;let g=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});g.displayName=s.dk.displayName},70402:function(e,t,n){n.d(t,{Label:function(){return c}});var r=n(57437),a=n(2265),s=n(38364),o=n(13027),i=n(49354);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.f,{ref:t,className:(0,i.cn)(l(),n),...a})});c.displayName=s.f.displayName},80023:function(e,t,n){n.d(t,{ScrollArea:function(){return i}});var r=n(57437),a=n(2265),s=n(26770),o=n(49354);let i=a.forwardRef((e,t)=>{let{className:n,children:a,...i}=e;return(0,r.jsxs)(s.fC,{ref:t,className:(0,o.cn)("relative overflow-hidden",n),...i,children:[(0,r.jsx)(s.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(l,{}),(0,r.jsx)(s.Ns,{})]})});i.displayName=s.fC.displayName;let l=a.forwardRef((e,t)=>{let{className:n,orientation:a="vertical",...i}=e;return(0,r.jsx)(s.gb,{ref:t,orientation:a,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...i,children:(0,r.jsx)(s.q4,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=s.gb.displayName},29973:function(e,t,n){n.d(t,{Separator:function(){return i}});var r=n(57437),a=n(2265),s=n(48484),o=n(49354);let i=a.forwardRef((e,t)=>{let{className:n,orientation:a="horizontal",decorative:i=!0,...l}=e;return(0,r.jsx)(s.f,{ref:t,decorative:i,orientation:a,className:(0,o.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",n),...l})});i.displayName=s.f.displayName},4306:function(e,t,n){n.d(t,{I:function(){return a}});var r=n(2265);function a(e){let{onTranscript:t}=e,[n,a]=(0,r.useState)("idle"),[s,o]=(0,r.useState)(void 0),i=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useCallback)(()=>{if(!s)return;if(!l.current)try{l.current=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.error("Web Audio API is not supported in this browser.",e);return}let e=l.current;"suspended"===e.state&&e.resume();let t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),n.gain.setValueAtTime(.1,e.currentTime),t.start(e.currentTime),t.stop(e.currentTime+.1)},[s]);(0,r.useEffect)(()=>{window.SpeechRecognition||window.webkitSpeechRecognition?o(!0):(o(!1),console.warn("Speech recognition not supported by this browser."))},[]);let d=(0,r.useCallback)(()=>{if("idle"!==n||!s)return;a("activating");let e=new(window.SpeechRecognition||window.webkitSpeechRecognition);i.current=e,e.lang="en-US",e.interimResults=!0,e.continuous=!0,e.onstart=()=>{c(),a("listening")},e.onend=()=>{a("idle"),i.current=null},e.onerror=e=>{"no-speech"===e.error||console.error("Speech recognition error:",e.error),a("idle")},e.onresult=e=>{let n=Array.from(e.results).map(e=>e[0]).map(e=>e.transcript).join("");(n=n.replace(/ comma/gi,",").replace(/ period/gi,".")).length>0&&(n=n.charAt(0).toUpperCase()+n.slice(1)),t(n)},e.start()},[n,s,t,c]),u=(0,r.useCallback)(()=>{i.current&&("listening"===n||"activating"===n)&&i.current.stop()},[n]);return(0,r.useEffect)(()=>()=>{i.current&&i.current.stop()},[]),{isListening:"listening"===n,status:n,startListening:d,stopListening:u,isSupported:s}}}}]);