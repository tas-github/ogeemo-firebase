(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9958],{77009:function(e,t,a){Promise.resolve().then(a.bind(a,10912)),Promise.resolve().then(a.bind(a,61481)),Promise.resolve().then(a.bind(a,48697))},10912:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=a(55592);function r(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return a}},61481:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let s=a(57437),r=a(58512);function n(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=(0,r.getExpectedRequestStore)("next/dynamic css"),n=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,s.jsx)(s.Fragment,{children:n.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},48697:function(e,t,a){"use strict";a.r(t),a.d(t,{TasksView:function(){return Z}});var s=a(57437),r=a(2265),n=a(16463),l=a(62373),i=a(38087),c=a(89733),o=a(48185),d=a(19779),u=a(86763),f=a(50215),m=a(56147),p=a(78240),x=a(32515),h=a(94546),y=a(65876),j=a(91241);let N=(0,a(6497).Z)("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);var v=a(8527),g=a(19847),w=a(31590);function b(e){let{project:t,index:a,onMoveProject:l,onEdit:i,onDelete:d}=e,u=r.useRef(null),f=(0,n.useRouter)(),[{isDragging:m},p]=(0,x.c)({type:"project",item:{id:t.id,index:a},collect:e=>({isDragging:e.isDragging()})}),[,b]=(0,h.L)({accept:"project",hover(e,t){if(!u.current)return;let s=e.index;s!==a&&(l(s,a),e.index=a)}});p(b(u));let k=()=>{f.push("/projects/".concat(t.id,"/planning"))};return(0,s.jsx)("div",{ref:u,style:{opacity:m?.5:1},children:(0,s.jsx)(o.Zb,{className:"cursor-pointer hover:bg-accent/50 group",children:(0,s.jsxs)(o.aY,{className:"p-3 flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 cursor-move"}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden",onClick:k,children:(0,s.jsx)("p",{className:"font-semibold truncate",children:t.name})}),(0,s.jsxs)(w.h_,{children:[(0,s.jsx)(w.$F,{asChild:!0,children:(0,s.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-50 group-hover:opacity-100 flex-shrink-0",children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(w.AW,{align:"end",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)(w.Xi,{onSelect:k,children:[(0,s.jsx)(N,{className:"mr-2 h-4 w-4"})," Planning & Progress"]}),(0,s.jsxs)(w.Xi,{onSelect:()=>i(t),children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4"})," Edit Details"]}),(0,s.jsxs)(w.Xi,{onSelect:()=>d(t),className:"text-destructive",children:[(0,s.jsx)(g.Z,{className:"mr-2 h-4 w-4"})," Delete Project"]})]})]})]})})})}var k=a(80023),R=a(29943);function Z(){let[e,t]=(0,r.useState)([]),[a,x]=(0,r.useState)([]),[h,y]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[v,g]=(0,r.useState)(!0),[w,Z]=(0,r.useState)(!1),[C,_]=(0,r.useState)({}),{user:P}=(0,d.a)(),{toast:z}=(0,u.pm)();(0,n.useRouter)(),(0,r.useEffect)(()=>{(async function(){if(!P){g(!1);return}g(!0);try{let[e,a]=await Promise.all([(0,f.mW)(P.uid),(0,m.K2)(P.uid)]);t(e),x(a);let s=sessionStorage.getItem("ogeemo-idea-to-project");if(s){let e=JSON.parse(s);_({title:e.title,description:e.description}),Z(!0)}}catch(e){z({variant:"destructive",title:"Failed to load initial data",description:e.message})}finally{g(!1)}})()},[P,z]);let S=async(e,a)=>{if(P)try{let a=await (0,f.addProject)({...e,userId:P.uid,createdAt:new Date});t(e=>[a,...e]),z({title:"Project Created",description:'"'.concat(a.name,'" has been successfully created.')})}catch(e){z({variant:"destructive",title:"Failed to create project",description:e.message})}},M=async e=>{try{let{id:a,userId:s,createdAt:r,...n}=e;await (0,f.ty)(a,n),t(t=>t.map(t=>t.id===e.id?e:t)),z({title:"Project Updated"})}catch(e){z({variant:"destructive",title:"Failed to update project",description:e.message})}},D=async()=>{if(j)try{let a=await (0,f.t1)(j.id);await (0,f.th)(j.id,a.map(e=>e.id));let s=e.filter(e=>e.id!==j.id);t(s),z({title:"Project Deleted"})}catch(e){z({variant:"destructive",title:"Failed to delete project",description:e.message})}finally{N(null)}},O=(a,s)=>{let r=e[a];t(e=>{let t=[...e];return t.splice(a,1),t.splice(s,0,r),t})},V=e=>{y(e),Z(!0)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 sm:p-6 flex flex-col h-full items-center",children:[(0,s.jsxs)("header",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline text-primary",children:"Project Hub"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Select a project to view its tasks or create a new one."})]}),(0,s.jsxs)(o.Zb,{className:"w-full max-w-4xl flex-1 flex flex-col",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.ll,{children:"All Projects"}),(0,s.jsx)(o.SZ,{children:"Click a project to view its tasks."})]}),(0,s.jsxs)(c.z,{onClick:()=>{y(null),_({}),Z(!0)},children:[(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," New Project"]})]})}),(0,s.jsx)(o.aY,{className:"flex-1 overflow-hidden p-2",children:(0,s.jsx)(k.ScrollArea,{className:"h-full",children:(0,s.jsx)("div",{className:"p-2 space-y-2",children:v?(0,s.jsx)("div",{className:"flex items-center justify-center h-full pt-16",children:(0,s.jsx)(i.Z,{className:"h-8 w-8 animate-spin"})}):e.length>0?e.map((e,t)=>(0,s.jsx)(b,{project:e,index:t,onMoveProject:O,onEdit:V,onDelete:N},e.id)):(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center p-8",children:"No projects yet. Create one to get started."})})})})]}),(0,s.jsx)(p.e,{isOpen:w,onOpenChange:e=>{Z(e),e||(y(null),_({}))},onProjectCreate:S,onProjectUpdate:M,contacts:a,projectToEdit:h,initialMode:"project",initialData:C})]}),(0,s.jsx)(R.aR,{open:!!j,onOpenChange:()=>N(null),children:(0,s.jsxs)(R._T,{children:[(0,s.jsxs)(R.fY,{children:[(0,s.jsx)(R.f$,{children:"Are you sure?"}),(0,s.jsxs)(R.yT,{children:['This will permanently delete the project "',null==j?void 0:j.name,'" and all of its tasks. This action cannot be undone.']})]}),(0,s.jsxs)(R.xo,{children:[(0,s.jsx)(R.le,{children:"Cancel"}),(0,s.jsx)(R.OL,{onClick:D,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})}},29943:function(e,t,a){"use strict";a.d(t,{OL:function(){return h},_T:function(){return u},aR:function(){return c},f$:function(){return p},fY:function(){return f},le:function(){return y},xo:function(){return m},yT:function(){return x}});var s=a(57437),r=a(2265),n=a(76669),l=a(49354),i=a(89733);let c=n.fC;n.xz;let o=n.h_,d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});d.displayName=n.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{}),(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});u.displayName=n.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};f.displayName="AlertDialogHeader";let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="AlertDialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",a),...r})});p.displayName=n.Dx.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});x.displayName=n.dk.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aU,{ref:t,className:(0,l.cn)((0,i.d)(),a),...r})});h.displayName=n.aU.displayName;let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.$j,{ref:t,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});y.displayName=n.$j.displayName},48185:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var s=a(57437),r=a(2265),n=a(49354);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},31590:function(e,t,a){"use strict";a.d(t,{$F:function(){return u},AW:function(){return m},Ju:function(){return x},Qk:function(){return f},VD:function(){return h},Xi:function(){return p},h_:function(){return d}});var s=a(57437),r=a(2265),n=a(81622),l=a(51601),i=a(60926),c=a(52732),o=a(49354);let d=n.fC,u=n.xz,f=n.ZA;n.Uv,n.Tr,n.Ee,r.forwardRef((e,t)=>{let{className:a,inset:r,children:i,...c}=e;return(0,s.jsxs)(n.fF,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...c,children:[i,(0,s.jsx)(l.Z,{className:"ml-auto"})]})}).displayName=n.fF.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=n.tu.displayName;let m=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.jsx)(n.Uv,{children:(0,s.jsx)(n.VY,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});m.displayName=n.VY.displayName;let p=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(n.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l})});p.displayName=n.ck.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:l,...c}=e;return(0,s.jsxs)(n.oC,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...c,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})}),r]})}).displayName=n.oC.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(n.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(c.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=n.Rk.displayName;let x=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(n.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});x.displayName=n.__.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});h.displayName=n.Z0.displayName},80023:function(e,t,a){"use strict";a.d(t,{ScrollArea:function(){return i}});var s=a(57437),r=a(2265),n=a(26770),l=a(49354);let i=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(n.fC,{ref:t,className:(0,l.cn)("relative overflow-hidden",a),...i,children:[(0,s.jsx)(n.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(c,{}),(0,s.jsx)(n.Ns,{})]})});i.displayName=n.fC.displayName;let c=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...i}=e;return(0,s.jsx)(n.gb,{ref:t,orientation:r,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,s.jsx)(n.q4,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=n.gb.displayName},36473:function(e,t,a){"use strict";a.d(t,{t:function(){return l}});var s=a(11880),r=a(40071),n=a(74546);function l(e,t){let a=(0,n.Q)(e);return isNaN(+a)?(0,s.L)(e,NaN):(null!=t.year&&a.setFullYear(t.year),null!=t.month&&(a=(0,r.q)(a,t.month)),null!=t.date&&a.setDate(t.date),null!=t.hours&&a.setHours(t.hours),null!=t.minutes&&a.setMinutes(t.minutes),null!=t.seconds&&a.setSeconds(t.seconds),null!=t.milliseconds&&a.setMilliseconds(t.milliseconds),a)}},72563:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},91241:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},65876:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])},8527:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},62373:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},94729:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},19847:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(6497).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[4358,4728,2641,7255,4086,5510,9279,3070,6680,23,1792,1313,2827,6669,1374,4694,3796,2393,4088,2971,7023,1744],function(){return e(e.s=77009)}),_N_E=e.O()}]);