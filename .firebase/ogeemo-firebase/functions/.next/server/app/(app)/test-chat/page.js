(()=>{var e={};e.id=9505,e.ids=[9505],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},88499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),r(11319),r(25215),r(35866),r(20306);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(app)",{children:["test-chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,11319)),"/home/user/studio/src/app/(app)/test-chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,25215)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20306)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/user/studio/src/app/(app)/test-chat/page.tsx"],d="/(app)/test-chat/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/test-chat/page",pathname:"/test-chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},67301:(e,t,r)=>{Promise.resolve().then(r.bind(r,53749))},53749:(e,t,r)=>{"use strict";r.d(t,{TestChatView:()=>v});var s=r(10326),a=r(17577),n=r(63144),i=r(46721),o=r(61896),l=r(51016),c=r(28096),u=r(42556),d=r(91664),p=r(29752),h=r(41190),x=r(3236),m=r(51223),f=r(3594),g=r(34692),y=r(84097);function v(){let[e,t]=(0,a.useState)([]),[r,v]=(0,a.useState)(""),[w,j]=(0,a.useState)(!1),b=(0,a.useRef)(null),{toast:N}=(0,y.pm)(),q=(0,a.useRef)(""),{status:k,isListening:S,startListening:P,stopListening:C,isSupported:Z}=(0,g.I)({onTranscript:e=>{v(q.current?`${q.current} ${e}`:e)}}),A=(0,a.useCallback)(async()=>{let s=r.trim();if(!s||w)return;S&&C();let a=[...e,{id:Date.now().toString(),text:s,sender:"user"}];t(a),v(""),j(!0);try{let e=await fetch("/api/genkit/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s,history:a.slice(0,-1).map(e=>({role:"user"===e.sender?"user":"model",content:[{text:e.text}]}))})});if(!e.ok){let t=await e.json();throw Error(t.error||"The API returned an error.")}let r=await e.json(),n={id:(Date.now()+1).toString(),text:r.reply,sender:"bot"};t(e=>[...e,n])}catch(r){console.error("Error with Test Chat:",r);let e={id:(Date.now()+1).toString(),text:`Sorry, the test chat encountered an error: ${r.message}`,sender:"bot"};t(t=>[...t,e])}finally{j(!1)}},[r,w,S,C,e]),T=async e=>{e.preventDefault(),A()};return(0,s.jsxs)("div",{className:"p-4 sm:p-6 flex flex-col items-center h-full",children:[(0,s.jsxs)("header",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold font-headline text-primary",children:"AI Chat Test Page"}),s.jsx("p",{className:"text-muted-foreground",children:"Use this page to debug the AI chat functionality in isolation."})]}),(0,s.jsxs)(p.Zb,{className:"w-full max-w-2xl flex-1 flex flex-col",children:[(0,s.jsxs)(p.Ol,{children:[s.jsx(p.ll,{children:"Test Chat"}),s.jsx(p.SZ,{children:"This is a test environment for the chat feature."})]}),s.jsx(p.aY,{className:"flex-1 overflow-hidden",children:s.jsx(x.ScrollArea,{className:"h-full pr-4",ref:b,children:(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,s.jsxs)("div",{className:(0,m.cn)("flex items-start gap-3","user"===e.sender?"justify-end":"justify-start"),children:["bot"===e.sender&&s.jsx(f.qE,{className:"h-8 w-8",children:s.jsx(f.Q5,{children:s.jsx(l.Z,{})})}),s.jsx("div",{className:(0,m.cn)("max-w-xs md:max-w-md lg:max-w-lg rounded-lg px-4 py-2 text-sm","user"===e.sender?"bg-primary text-primary-foreground":"bg-muted"),children:e.text}),"user"===e.sender&&s.jsx(f.qE,{className:"h-8 w-8",children:s.jsx(f.Q5,{children:s.jsx(c.Z,{})})})]},e.id)),w&&(0,s.jsxs)("div",{className:"flex items-start gap-3 justify-start",children:[s.jsx(f.qE,{className:"h-8 w-8",children:s.jsx(f.Q5,{children:s.jsx(l.Z,{})})}),s.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 text-sm flex items-center",children:s.jsx(i.Z,{className:"h-4 w-4 animate-spin"})})]})]})})}),s.jsx(p.eW,{children:(0,s.jsxs)("form",{onSubmit:T,className:"flex w-full items-center space-x-2",children:[(0,s.jsxs)(d.z,{type:"button",variant:"ghost",size:"icon",className:(0,m.cn)("flex-shrink-0",S&&"text-destructive"),onClick:()=>{S?C():(q.current=r.trim(),P())},disabled:!1===Z||w||"activating"===k,title:(e=>{if(!1===Z)return"Voice input not supported";switch(e){case"listening":return"Stop dictation";case"activating":return"Activating...";default:return"Start dictation"}})(k),children:[(e=>{switch(e){case"listening":return s.jsx(n.Z,{className:"h-5 w-5"});case"activating":return s.jsx(i.Z,{className:"h-5 w-5 animate-spin"});default:return s.jsx(o.Z,{className:"h-5 w-5"})}})(k),s.jsx("span",{className:"sr-only",children:"Use Voice"})]}),s.jsx(h.I,{placeholder:"Enter your message here...",value:r,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},disabled:w,autoComplete:"off"}),(0,s.jsxs)(d.z,{type:"submit",size:"icon",disabled:w||!r.trim(),children:[s.jsx(u.Z,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Send Message"})]})]})})]})]})}},3236:(e,t,r)=>{"use strict";r.d(t,{ScrollArea:()=>o});var s=r(10326),a=r(17577),n=r(16999),i=r(51223);let o=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(n.fC,{ref:a,className:(0,i.cn)("relative overflow-hidden",e),...r,children:[s.jsx(n.l_,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(l,{}),s.jsx(n.Ns,{})]}));o.displayName=n.fC.displayName;let l=a.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(n.gb,{ref:a,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(n.q4,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=n.gb.displayName},34692:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(17577);function a({onTranscript:e}){let[t,r]=(0,s.useState)("idle"),[a,n]=(0,s.useState)(void 0),i=(0,s.useRef)(null),o=(0,s.useRef)(null),l=(0,s.useCallback)(()=>{if(!a)return;if(!o.current)try{o.current=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.error("Web Audio API is not supported in this browser.",e);return}let e=o.current;"suspended"===e.state&&e.resume();let t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),r.gain.setValueAtTime(.1,e.currentTime),t.start(e.currentTime),t.stop(e.currentTime+.1)},[a]),c=(0,s.useCallback)(()=>{if("idle"!==t||!a)return;r("activating");let s=new(window.SpeechRecognition||window.webkitSpeechRecognition);i.current=s,s.lang="en-US",s.interimResults=!0,s.continuous=!0,s.onstart=()=>{l(),r("listening")},s.onend=()=>{r("idle"),i.current=null},s.onerror=e=>{"no-speech"===e.error||console.error("Speech recognition error:",e.error),r("idle")},s.onresult=t=>{let r=Array.from(t.results).map(e=>e[0]).map(e=>e.transcript).join("");(r=r.replace(/ comma/gi,",").replace(/ period/gi,".")).length>0&&(r=r.charAt(0).toUpperCase()+r.slice(1)),e(r)},s.start()},[t,a,e,l]),u=(0,s.useCallback)(()=>{i.current&&("listening"===t||"activating"===t)&&i.current.stop()},[t]);return{isListening:"listening"===t,status:t,startListening:c,stopListening:u,isSupported:a}}},11319:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(19510),a=r(68570);let n=(0,a.createProxy)(String.raw`/home/user/studio/src/components/test-chat/test-chat-view.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let l=(0,a.createProxy)(String.raw`/home/user/studio/src/components/test-chat/test-chat-view.tsx#TestChatView`);function c(){return s.jsx(l,{})}},37125:(e,t,r)=>{"use strict";function s(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{u:()=>s})},51016:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},46721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},61896:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},42556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},63144:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,7514,6621,2371,7040,6999,8606,5338],()=>r(88499));module.exports=s})();