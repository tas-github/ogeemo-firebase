(()=>{var e={};e.id=8244,e.ids=[8244],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},77430:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>o,routeModule:()=>b,tree:()=>l}),t(34753),t(25215),t(35866),t(20306);var s=t(23191),n=t(88716),r=t(37922),d=t.n(r),i=t(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(a,c);let l=["",{children:["(app)",{children:["accounting",{children:["invoices",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,34753)),"/home/user/studio/src/app/(app)/accounting/invoices/create/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,25215)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,20306)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/home/user/studio/src/app/(app)/accounting/invoices/create/page.tsx"],f="/(app)/accounting/invoices/create/page",u={require:t,loadChunk:()=>Promise.resolve()},b=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/accounting/invoices/create/page",pathname:"/accounting/invoices/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},49231:(e,a,t)=>{let s={"155b73ae85051413d441b803e36c5266ebf53a83":()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.addFolder),"37e64c7965fbbd38fea09c0d1e41d9ef24995e9d":()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.getContacts),"3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0":()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.addContact),"73bd2ff36e5bd9c053e885c0da2fc4042b460c21":()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.deleteContacts),acffb53a6d7027804320983fc8c67d170e26cde2:()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.updateFolder),d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e:()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.getFolders),deec4d57c045361779aefb567fa996b8b9c29cb2:()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.deleteFolderAndContents),f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec:()=>Promise.resolve().then(t.bind(t,96049)).then(e=>e.updateContact),"06c321e5a5238a370bab7d49ca9459259c63148f":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getLineItemsForInvoice),"100bb8893510587fd8f0839c84a551fb01349306":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getEquityTransactions),"138af69a16502d778613dce4ba6f0076eaa29e5f":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.deleteEquityTransaction),"13e6359c8a6d4fc61a9abfb8e17c56b72ce47fa0":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.deleteIncomeTransaction),"196cee17d88bcd63df060cb3e39d59c9d2765554":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getInvoices),"1ae0ada1a26d5a3a09eeb8bc60a850fd4afed2d8":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.addIncomeTransaction),"2d003234f7e3cf1a868b9a933ae8e081485d81b4":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.deleteExpenseTransaction),"33b46062d47606f7c0ee3a9ab6324c61ff942022":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.addPayableBill),"374d92f47c3f67f1d5288803480e0a78d22341a5":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.updateInvoiceWithLineItems),"38d2bf3f62bdbe77a260d04f420a1cbf949749b2":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.updateExpenseTransaction),"3c81bdae1bcd873eaa2d33e9b31504a8b79d4dc5":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.addEquityTransaction),"4606a114e22a4eda50788ac4bf567d179bd27462":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.addAsset),"489a57e2a7f75a35081451e02a0b9fea82dbe340":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getPayableBills),"6366a5382184709faba609fdeb992df784ca9efa":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.deleteInvoice),"704f3523ac5959241b1a33311215cd96fa3a9a86":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getInvoiceById),"7a27a268044e15d286dcc24e308038ef1eec8cd8":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.updateEquityTransaction),"7e5cb518a74edba7d5a4bb63c443e2406dc20625":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getExpenseTransactions),"81c641641212f6f5801100da0e6674038cf7e65a":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getIncomeTransactions),"89fd89401b2bac30daad46f718068d1db034f349":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.addInvoiceWithLineItems),"93772ae7e24d47db028fe2b804acb70aef651d1e":()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.updateIncomeTransaction),b789bdfa6b14132171951feee1036f428d0c2cd5:()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.addExpenseTransaction),c6d386f2cd9a54ba651ce21d443b3f48ae89f946:()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.deleteAsset),c8a8b1d84b41d6cc3a7dcbfd001ba8bee8eb8bce:()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.updatePayableBill),d1bbbb78c6a9d683d7a7ae412b1aa7bfdb3e5dea:()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.updateAsset),f9b7235d01a63de86a1745bd1131f7c75113b95f:()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.deletePayableBill),fd830911c2809927dea0d2e0033dea802088bf61:()=>Promise.resolve().then(t.bind(t,5273)).then(e=>e.getAssets)};async function n(e,...a){return(await s[e]()).apply(null,a)}e.exports={"155b73ae85051413d441b803e36c5266ebf53a83":n.bind(null,"155b73ae85051413d441b803e36c5266ebf53a83"),"37e64c7965fbbd38fea09c0d1e41d9ef24995e9d":n.bind(null,"37e64c7965fbbd38fea09c0d1e41d9ef24995e9d"),"3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0":n.bind(null,"3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0"),"73bd2ff36e5bd9c053e885c0da2fc4042b460c21":n.bind(null,"73bd2ff36e5bd9c053e885c0da2fc4042b460c21"),acffb53a6d7027804320983fc8c67d170e26cde2:n.bind(null,"acffb53a6d7027804320983fc8c67d170e26cde2"),d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e:n.bind(null,"d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e"),deec4d57c045361779aefb567fa996b8b9c29cb2:n.bind(null,"deec4d57c045361779aefb567fa996b8b9c29cb2"),f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec:n.bind(null,"f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec"),"06c321e5a5238a370bab7d49ca9459259c63148f":n.bind(null,"06c321e5a5238a370bab7d49ca9459259c63148f"),"100bb8893510587fd8f0839c84a551fb01349306":n.bind(null,"100bb8893510587fd8f0839c84a551fb01349306"),"138af69a16502d778613dce4ba6f0076eaa29e5f":n.bind(null,"138af69a16502d778613dce4ba6f0076eaa29e5f"),"13e6359c8a6d4fc61a9abfb8e17c56b72ce47fa0":n.bind(null,"13e6359c8a6d4fc61a9abfb8e17c56b72ce47fa0"),"196cee17d88bcd63df060cb3e39d59c9d2765554":n.bind(null,"196cee17d88bcd63df060cb3e39d59c9d2765554"),"1ae0ada1a26d5a3a09eeb8bc60a850fd4afed2d8":n.bind(null,"1ae0ada1a26d5a3a09eeb8bc60a850fd4afed2d8"),"2d003234f7e3cf1a868b9a933ae8e081485d81b4":n.bind(null,"2d003234f7e3cf1a868b9a933ae8e081485d81b4"),"33b46062d47606f7c0ee3a9ab6324c61ff942022":n.bind(null,"33b46062d47606f7c0ee3a9ab6324c61ff942022"),"374d92f47c3f67f1d5288803480e0a78d22341a5":n.bind(null,"374d92f47c3f67f1d5288803480e0a78d22341a5"),"38d2bf3f62bdbe77a260d04f420a1cbf949749b2":n.bind(null,"38d2bf3f62bdbe77a260d04f420a1cbf949749b2"),"3c81bdae1bcd873eaa2d33e9b31504a8b79d4dc5":n.bind(null,"3c81bdae1bcd873eaa2d33e9b31504a8b79d4dc5"),"4606a114e22a4eda50788ac4bf567d179bd27462":n.bind(null,"4606a114e22a4eda50788ac4bf567d179bd27462"),"489a57e2a7f75a35081451e02a0b9fea82dbe340":n.bind(null,"489a57e2a7f75a35081451e02a0b9fea82dbe340"),"6366a5382184709faba609fdeb992df784ca9efa":n.bind(null,"6366a5382184709faba609fdeb992df784ca9efa"),"704f3523ac5959241b1a33311215cd96fa3a9a86":n.bind(null,"704f3523ac5959241b1a33311215cd96fa3a9a86"),"7a27a268044e15d286dcc24e308038ef1eec8cd8":n.bind(null,"7a27a268044e15d286dcc24e308038ef1eec8cd8"),"7e5cb518a74edba7d5a4bb63c443e2406dc20625":n.bind(null,"7e5cb518a74edba7d5a4bb63c443e2406dc20625"),"81c641641212f6f5801100da0e6674038cf7e65a":n.bind(null,"81c641641212f6f5801100da0e6674038cf7e65a"),"89fd89401b2bac30daad46f718068d1db034f349":n.bind(null,"89fd89401b2bac30daad46f718068d1db034f349"),"93772ae7e24d47db028fe2b804acb70aef651d1e":n.bind(null,"93772ae7e24d47db028fe2b804acb70aef651d1e"),b789bdfa6b14132171951feee1036f428d0c2cd5:n.bind(null,"b789bdfa6b14132171951feee1036f428d0c2cd5"),c6d386f2cd9a54ba651ce21d443b3f48ae89f946:n.bind(null,"c6d386f2cd9a54ba651ce21d443b3f48ae89f946"),c8a8b1d84b41d6cc3a7dcbfd001ba8bee8eb8bce:n.bind(null,"c8a8b1d84b41d6cc3a7dcbfd001ba8bee8eb8bce"),d1bbbb78c6a9d683d7a7ae412b1aa7bfdb3e5dea:n.bind(null,"d1bbbb78c6a9d683d7a7ae412b1aa7bfdb3e5dea"),f9b7235d01a63de86a1745bd1131f7c75113b95f:n.bind(null,"f9b7235d01a63de86a1745bd1131f7c75113b95f"),fd830911c2809927dea0d2e0033dea802088bf61:n.bind(null,"fd830911c2809927dea0d2e0033dea802088bf61")}},60430:(e,a,t)=>{Promise.resolve().then(t.bind(t,933)),Promise.resolve().then(t.bind(t,46618)),Promise.resolve().then(t.bind(t,46793))},933:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=t(94129);function n(e){let{reason:a,children:t}=e;throw new s.BailoutToCSRError(a)}},46618:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadCss",{enumerable:!0,get:function(){return r}});let s=t(10326),n=t(55403);function r(e){let{moduleIds:a}=e,t=(0,n.getExpectedRequestStore)("next/dynamic css"),r=[];if(t.reactLoadableManifest&&a){let e=t.reactLoadableManifest;for(let t of a){if(!e[t])continue;let a=e[t].files.filter(e=>e.endsWith(".css"));r.push(...a)}}return 0===r.length?null:(0,s.jsx)(s.Fragment,{children:r.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},46793:(e,a,t)=>{"use strict";t.r(a),t.d(a,{InvoiceGeneratorView:()=>D});var s=t(10326),n=t(17577),r=t(35047),d=t(91664),i=t(29752),c=t(41190),l=t(44794),o=t(29280),f=t(41156),u=t(82015),b=t(98181),h=t(92977),m=t(46721),p=t(43016),x=t(71315),y=t(37084),g=t(96451),v=t(49708),j=t(5722),N=t(10036),w=t(78062),k=t(84097),P=t(43821),S=t(97171),C=t(3236),I=t(24118),Z=t(82631),T=t(68136);t(53534);var M=t(51920);let q=[{description:"Consulting Services",price:150},{description:"Web Development (Hourly)",price:120},{description:"Graphic Design Services",price:80},{description:"Project Management",price:100},{description:"Monthly Retainer",price:2500}];function D(){let{user:e}=(0,T.a)(),a=(0,r.useRouter)(),{toast:t}=(0,k.pm)(),[D,R]=(0,n.useState)([]),[_,z]=(0,n.useState)(!0),[A,E]=(0,n.useState)(101),[F,L]=(0,n.useState)(null),[$,V]=(0,n.useState)(""),[B,H]=(0,n.useState)([]),[G,U]=(0,n.useState)(""),[O,Q]=(0,n.useState)((0,b.WU)(new Date,"yyyy-MM-dd")),[W,K]=(0,n.useState)((0,b.WU)((0,h.E)(new Date,14),"yyyy-MM-dd")),[Y,J]=(0,n.useState)("none"),[X,ee]=(0,n.useState)(0),[ea,et]=(0,n.useState)("Thank you for your business!"),[es,en]=(0,n.useState)(!1),[er,ed]=(0,n.useState)(""),[ei,ec]=(0,n.useState)([]),el=(0,n.useRef)(null),eo=(0,n.useCallback)(()=>{H([]),V(""),J("none"),ee(0),U(`INV-${A}`),Q((0,b.WU)(new Date,"yyyy-MM-dd")),K((0,b.WU)((0,h.E)(new Date,14),"yyyy-MM-dd")),et("Thank you for your business!"),L(null),localStorage.removeItem("editInvoiceId"),sessionStorage.removeItem("invoiceFromReportData")},[A]),ef=(e,a,t)=>{H(B.map(s=>s.id===e?{...s,[a]:t}:s))},eu=e=>{H(B.filter(a=>a.id!==e))},eb=(0,n.useMemo)(()=>D.find(e=>e.id===$),[D,$]),eh=(0,n.useMemo)(()=>B.reduce((e,a)=>e+a.quantity*a.price,0),[B]),em=(0,n.useMemo)(()=>X<=0?0:X/100*eh,[eh,X]),ep=(0,n.useMemo)(()=>eh+em,[eh,em]),ex=async()=>{if(!e){t({variant:"destructive",title:"Authentication error"});return}if(!eb){t({variant:"destructive",title:"Client Required",description:"Please select a client."});return}if(0===B.length){t({variant:"destructive",title:"Empty Invoice",description:"Please add at least one line item."});return}let s=B.map(({id:e,...a})=>a);try{if(F){let e={invoiceNumber:G,clientName:eb.name,contactId:eb.id,originalAmount:ep,dueDate:new Date(W),invoiceDate:new Date(O),status:"outstanding",notes:ea,taxRate:X,taxType:Y||"none"};await (0,M.e9)(F,e,s),t({title:"Invoice Updated",description:`Invoice ${G} has been saved.`})}else{let a={invoiceNumber:G,clientName:eb.name,contactId:eb.id,originalAmount:ep,amountPaid:0,dueDate:new Date(W),invoiceDate:new Date(O),status:"outstanding",notes:ea,taxRate:X,taxType:Y||"none",userId:e.uid};await (0,M.Vu)(a,s),t({title:"Invoice Saved",description:`Invoice ${G} has been saved.`})}a.push("/accounting/invoices/payments"),eo()}catch(e){console.error("Failed to save invoice:",e),t({variant:"destructive",title:"Error",description:"Could not save the invoice."})}},ey=()=>{if(!er.trim()){t({variant:"destructive",title:"Template name is required."});return}if(0===B.length){t({variant:"destructive",title:"Cannot save an empty template. Please add line items."});return}let e={name:er,items:B.map(({id:e,...a})=>a)};try{let a=[...ei,e];ec(a),localStorage.setItem("invoiceTemplates",JSON.stringify(a)),t({title:"Template Saved!",description:`Template "${er}" has been saved.`}),en(!1),ed("")}catch(e){console.error("Failed to save template to localStorage",e),t({variant:"destructive",title:"Error Saving Template",description:"Could not save the template."})}};return _?(0,s.jsxs)("div",{className:"flex h-full w-full items-center justify-center p-4",children:[s.jsx(m.Z,{className:"h-10 w-10 animate-spin text-primary"}),s.jsx("p",{className:"ml-4 text-muted-foreground",children:"Loading invoice data..."})]}):s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsx(P.AccountingPageHeader,{pageTitle:F?"Edit Invoice":"Create Invoice"}),(0,s.jsxs)("header",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold font-headline text-primary",children:F?`Edit Invoice ${G}`:"Create an Invoice"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Generate professional invoices by fetching logged activities or adding items manually."})]}),(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{className:"text-center",children:(0,s.jsxs)(i.ll,{className:"flex items-center justify-center gap-2",children:["Invoice Setup",s.jsx(Z.pn,{children:(0,s.jsxs)(Z.u,{children:[s.jsx(Z.aJ,{asChild:!0,children:s.jsx(d.z,{variant:"ghost",size:"icon",className:"h-6 w-6",children:s.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})})}),s.jsx(Z._v,{children:s.jsx("p",{className:"max-w-xs",children:"Use this section to build your invoice. Fetch logged time for a client, add custom items, and set taxes before printing or finalizing."})})]})})]})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2 lg:col-span-2",children:[s.jsx(l.Label,{htmlFor:"client-select",children:"Client"}),(0,s.jsxs)(o.Ph,{value:$,onValueChange:V,disabled:_,children:[s.jsx(o.i4,{id:"client-select",children:s.jsx(o.ki,{placeholder:_?"Loading contacts...":"Select a client..."})}),s.jsx(o.Bw,{children:D.map(e=>s.jsx(o.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l.Label,{htmlFor:"tax-type",children:"Tax Type"}),(0,s.jsxs)(o.Ph,{value:Y,onValueChange:J,id:"tax-type",children:[s.jsx(o.i4,{children:s.jsx(o.ki,{placeholder:"Select tax type"})}),(0,s.jsxs)(o.Bw,{children:[s.jsx(o.Ql,{value:"none",children:"No Tax"}),s.jsx(o.Ql,{value:"vat",children:"VAT"}),s.jsx(o.Ql,{value:"gst",children:"GST"}),s.jsx(o.Ql,{value:"hst",children:"HST"}),s.jsx(o.Ql,{value:"dst",children:"DST"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l.Label,{htmlFor:"tax-rate",children:"Tax Rate (%)"}),s.jsx(c.I,{id:"tax-rate",type:"number",placeholder:"e.g., 20",value:X||"",onChange:e=>ee(Number(e.target.value)),disabled:"none"===Y})]})]}),s.jsx(w.Separator,{}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-semibold text-base mb-2",children:"Add to Invoice"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l.Label,{children:"Add Predefined Item"}),(0,s.jsxs)(o.Ph,{onValueChange:e=>{let a=q.find(a=>a.description===e);a&&H([...B,{id:Date.now(),...a,quantity:1}])},children:[s.jsx(o.i4,{children:s.jsx(o.ki,{placeholder:"Select a predefined item..."})}),s.jsx(o.Bw,{children:q.map(e=>s.jsx(o.Ql,{value:e.description,children:e.description},e.description))})]})]}),(0,s.jsxs)(d.z,{variant:"outline",onClick:()=>{H([...B,{id:Date.now(),description:"",quantity:1,price:0}])},children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Add Custom Line Item"]})]}),B.length>0&&s.jsx("div",{className:"space-y-3 mt-4",children:s.jsx(C.ScrollArea,{className:"h-40 w-full pr-3 border rounded-md",children:s.jsx("div",{className:"p-2 space-y-3",children:B.map(e=>(0,s.jsxs)("div",{className:"grid grid-cols-[1fr_auto_auto_auto] gap-2 items-start",children:[s.jsx(u.g,{placeholder:"Item description",value:e.description,onChange:a=>ef(e.id,"description",a.target.value),rows:1,className:"min-h-[40px] resize-y"}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(l.Label,{htmlFor:`qty-${e.id}`,className:"text-xs",children:"Qty"}),s.jsx(c.I,{id:`qty-${e.id}`,type:"number",value:e.quantity,onChange:a=>ef(e.id,"quantity",Number(a.target.value)),className:"w-20 h-8"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(l.Label,{htmlFor:`price-${e.id}`,className:"text-xs",children:"$ Rate"}),s.jsx(c.I,{id:`price-${e.id}`,type:"number",value:e.price,onChange:a=>ef(e.id,"price",Number(a.target.value)),className:"w-24 h-8"})]}),s.jsx(d.z,{variant:"ghost",size:"icon",onClick:()=>eu(e.id),className:"self-center mt-3",children:s.jsx(y.Z,{className:"h-4 w-4"})})]},e.id))})})})]}),ei.length>0&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(w.Separator,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l.Label,{children:"Apply a Template"}),(0,s.jsxs)(o.Ph,{onValueChange:e=>{let a=ei.find(a=>a.name===e);if(!a)return;let s=a.items.map(e=>({...e,id:Date.now()+Math.random()}));H(e=>[...e,...s]),t({title:"Template Applied",description:`Added ${s.length} items from "${a.name}".`})},children:[s.jsx(o.i4,{children:s.jsx(o.ki,{placeholder:"Select a template to apply..."})}),s.jsx(o.Bw,{children:ei.map((e,a)=>(0,s.jsxs)(o.Ql,{value:e.name,children:[e.name," (",e.items.length," items)"]},a))})]})]})]})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex-row justify-between items-center",children:[s.jsx(i.ll,{children:"Invoice Preview"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(d.z,{onClick:ex,children:[s.jsx(g.Z,{className:"mr-2 h-4 w-4"}),F?"Update Invoice":"Save Invoice"]}),(0,s.jsxs)(d.z,{variant:"outline",onClick:()=>{window.print()},children:[s.jsx(v.Z,{className:"mr-2 h-4 w-4"})," Print Invoice"]})]})]}),s.jsx(i.aY,{children:(0,s.jsxs)("div",{id:"invoice-preview",ref:el,className:"bg-white text-black p-8 border rounded-lg shadow-sm w-full font-sans",children:[(0,s.jsxs)("header",{className:"flex justify-between items-start pb-6 border-b",children:[s.jsx(S.T,{className:"text-primary"}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("h1",{className:"text-4xl font-bold uppercase text-gray-700",children:"Invoice"}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("p",{className:"text-gray-500",children:"#"}),s.jsx(c.I,{type:"text",value:G,onChange:e=>U(e.target.value),className:"w-32 p-0 h-auto border-0 border-b-2 border-transparent focus:border-gray-300 focus:ring-0"}),s.jsx(j.Z,{className:"h-3 w-3 text-gray-400"})]})]})]}),(0,s.jsxs)("section",{className:"flex justify-between mt-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"font-bold text-gray-500 uppercase mb-2",children:"Bill To"}),eb?(0,s.jsxs)(s.Fragment,{children:[s.jsx("p",{className:"font-bold text-lg",children:eb.name}),s.jsx("p",{children:eb.email}),s.jsx("p",{children:eb.cellPhone||eb.businessPhone})]}):s.jsx("p",{className:"text-gray-500",children:"Select a client"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{children:[s.jsx("span",{className:"font-bold text-gray-500",children:"Invoice Date:"})," ",s.jsx(c.I,{type:"date",value:O,onChange:e=>Q(e.target.value),className:"inline-block w-40 p-0 h-auto border-0 border-b-2 border-transparent focus:border-gray-300 focus:ring-0"})]}),(0,s.jsxs)("p",{children:[s.jsx("span",{className:"font-bold text-gray-500",children:"Due Date:"})," ",s.jsx(c.I,{type:"date",value:W,onChange:e=>K(e.target.value),className:"inline-block w-40 p-0 h-auto border-0 border-b-2 border-transparent focus:border-gray-300 focus:ring-0"})]})]})]}),s.jsx("section",{className:"mt-8",children:(0,s.jsxs)(f.iA,{className:"text-sm",children:[s.jsx(f.xD,{className:"bg-gray-100",children:(0,s.jsxs)(f.SC,{children:[s.jsx(f.ss,{className:"w-1/2 text-gray-600",children:"Description"}),s.jsx(f.ss,{className:"text-center text-gray-600",children:"Rate / Price"}),s.jsx(f.ss,{className:"text-center text-gray-600",children:"Qty"}),s.jsx(f.ss,{className:"text-right text-gray-600",children:"Total"})]})}),s.jsx(f.RM,{children:B.map((e,a)=>(0,s.jsxs)(f.SC,{children:[s.jsx(f.pj,{className:"whitespace-pre-wrap",children:e.description}),s.jsx(f.pj,{className:"text-center",children:e.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),s.jsx(f.pj,{className:"text-center",children:e.quantity}),s.jsx(f.pj,{className:"text-right",children:(e.quantity*e.price).toLocaleString("en-US",{style:"currency",currency:"USD"})})]},e.id))})]})}),s.jsx("section",{className:"flex justify-end mt-6",children:(0,s.jsxs)("div",{className:"w-full max-w-sm space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Subtotal:"}),s.jsx("span",{children:eh.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),s.jsx(w.Separator,{}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"none"!==Y?`Tax (${(Y||"").toUpperCase()} @ ${X||0}%)`:"Tax:"}),s.jsx("span",{children:em.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),s.jsx(w.Separator,{}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Total Due:"}),s.jsx("span",{children:ep.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})}),(0,s.jsxs)("footer",{className:"mt-12 pt-6 border-t",children:[s.jsx(l.Label,{htmlFor:"invoice-notes",className:"text-xs text-gray-500",children:"Notes / Terms"}),s.jsx(u.g,{id:"invoice-notes",placeholder:"e.g., Thank you for your business!",value:ea,onChange:e=>et(e.target.value),className:"mt-1 text-xs text-gray-600 border-none p-0 focus-visible:ring-0 shadow-none bg-transparent resize-none text-center"})]})]})}),(0,s.jsxs)(i.eW,{className:"justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(d.z,{onClick:()=>{if(!eb){t({variant:"destructive",title:"Cannot Send",description:"Please select a client first."});return}t({title:"Email Sent (Simulation)",description:`Invoice ${G} has been sent to ${eb.name}.`})},children:[s.jsx(N.Z,{className:"mr-2 h-4 w-4"})," Email Invoice"]}),(0,s.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>{window.confirm("Are you sure you want to clear the entire invoice? This will remove all items and reset the form.")&&(eo(),t({title:"Invoice Cleared"}))},children:[s.jsx(y.Z,{className:"mr-2 h-4 w-4"})," Clear"]})]}),s.jsx("div",{children:(0,s.jsxs)(I.Vq,{open:es,onOpenChange:en,children:[s.jsx(I.hg,{asChild:!0,children:(0,s.jsxs)(d.z,{variant:"outline",children:[s.jsx(g.Z,{className:"mr-2 h-4 w-4"})," Save as Template"]})}),(0,s.jsxs)(I.cZ,{children:[(0,s.jsxs)(I.fK,{children:[s.jsx(I.$N,{children:"Save Invoice as Template"}),s.jsx(I.Be,{children:"Enter a name for this template. It will save the custom line items."})]}),(0,s.jsxs)("div",{className:"py-4",children:[s.jsx(l.Label,{htmlFor:"template-name",children:"Template Name"}),s.jsx(c.I,{id:"template-name",value:er,onChange:e=>ed(e.target.value),placeholder:"e.g., 'Standard Consulting Invoice'",onKeyDown:e=>{"Enter"===e.key&&ey()}})]}),(0,s.jsxs)(I.cN,{children:[s.jsx(d.z,{variant:"ghost",onClick:()=>en(!1),children:"Cancel"}),s.jsx(d.z,{onClick:ey,children:"Save Template"})]})]})]})})]})]})]})})}},43821:(e,a,t)=>{"use strict";t.d(a,{AccountingPageHeader:()=>N});var s=t(10326),n=t(90434),r=t(91664),d=t(10143),i=t(34412),c=t(73877),l=t(91915),o=t(43891),f=t(94207),u=t(96262),b=t(31848),h=t(18751),m=t(44432),p=t(45707),x=t(43016),y=t(14711),g=t(43020),v=t(20345);let j=[{href:"/accounting/invoices/payments",icon:i.Z,label:"Accounts Receivable"},{href:"/accounting/invoices/create",icon:c.Z,label:"Invoice Generator"},{href:"/accounting/transactions/income",icon:l.Z,label:"Manage Income"},{href:"/accounting/transactions/expenses",icon:o.Z,label:"Manage Expenses"},{href:"/accounting/ledgers",icon:f.Z,label:"General Ledger"},{href:"/accounting/accounts-payable",icon:u.Z,label:"Accounts Payable"},{href:"/accounting/bank-statements",icon:b.Z,label:"Bank Statements"},{href:"/accounting/reports",icon:h.Z,label:"Reporting Hub"},{href:"/accounting/vitals",icon:m.Z,label:"Financial Vitals"},{href:"/accounting/onboarding",icon:p.Z,label:"Client Onboarding"},{href:"/accounting/bks-info",icon:x.Z,label:"BKS Info"}];function N({pageTitle:e}){return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(v.aG,{children:(0,s.jsxs)(v.Jb,{children:[s.jsx(v.gN,{children:s.jsx(v.At,{asChild:!0,children:s.jsx(n.default,{href:"/accounting",children:"Accounting Hub"})})}),s.jsx(v.bg,{}),s.jsx(v.gN,{children:s.jsx(v.AG,{children:e})})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(d.h_,{children:[s.jsx(d.$F,{asChild:!0,children:(0,s.jsxs)(r.z,{variant:"outline",children:["Quick Navigation ",s.jsx(y.Z,{className:"ml-2 h-4 w-4"})]})}),s.jsx(d.AW,{align:"end",children:j.map(e=>s.jsx(d.Xi,{asChild:!0,children:(0,s.jsxs)(n.default,{href:e.href,children:[s.jsx(e.icon,{className:"mr-2 h-4 w-4"}),e.label]})},e.href))})]}),s.jsx(r.z,{asChild:!0,variant:"ghost",size:"icon",className:"rounded-full",children:s.jsx(n.default,{href:"/accounting","aria-label":"Return to Accounting Hub",children:s.jsx(g.Z,{className:"h-5 w-5"})})})]})]})}},24118:(e,a,t)=>{"use strict";t.d(a,{$N:()=>p,Be:()=>x,GG:()=>f,Vq:()=>c,cN:()=>m,cZ:()=>b,fK:()=>h,hg:()=>l});var s=t(10326),n=t(17577),r=t(98958),d=t(43020),i=t(51223);let c=r.fC,l=r.xz,o=r.h_,f=r.x8,u=n.forwardRef(({className:e,...a},t)=>s.jsx(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));u.displayName=r.aV.displayName;let b=n.forwardRef(({className:e,children:a,...t},n)=>(0,s.jsxs)(o,{children:[s.jsx(u,{}),(0,s.jsxs)(r.VY,{ref:n,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(d.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));b.displayName=r.VY.displayName;let h=({className:e,...a})=>s.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5",e),...a});h.displayName="DialogHeader";let m=({className:e,...a})=>s.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});m.displayName="DialogFooter";let p=n.forwardRef(({className:e,...a},t)=>s.jsx(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));p.displayName=r.Dx.displayName;let x=n.forwardRef(({className:e,...a},t)=>s.jsx(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));x.displayName=r.dk.displayName},3236:(e,a,t)=>{"use strict";t.d(a,{ScrollArea:()=>i});var s=t(10326),n=t(17577),r=t(16999),d=t(51223);let i=n.forwardRef(({className:e,children:a,...t},n)=>(0,s.jsxs)(r.fC,{ref:n,className:(0,d.cn)("relative overflow-hidden",e),...t,children:[s.jsx(r.l_,{className:"h-full w-full rounded-[inherit]",children:a}),s.jsx(c,{}),s.jsx(r.Ns,{})]}));i.displayName=r.fC.displayName;let c=n.forwardRef(({className:e,orientation:a="vertical",...t},n)=>s.jsx(r.gb,{ref:n,orientation:a,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:s.jsx(r.q4,{className:"relative flex-1 rounded-full bg-border"})}));c.displayName=r.gb.displayName},29280:(e,a,t)=>{"use strict";t.d(a,{Bw:()=>m,Ph:()=>o,Ql:()=>p,i4:()=>u,ki:()=>f});var s=t(10326),n=t(17577),r=t(44875),d=t(14711),i=t(76604),c=t(70744),l=t(51223);let o=r.fC;r.ZA;let f=r.B4,u=n.forwardRef(({className:e,children:a,...t},n)=>(0,s.jsxs)(r.xz,{ref:n,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(r.JO,{asChild:!0,children:s.jsx(d.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=r.xz.displayName;let b=n.forwardRef(({className:e,...a},t)=>s.jsx(r.u_,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(i.Z,{className:"h-4 w-4"})}));b.displayName=r.u_.displayName;let h=n.forwardRef(({className:e,...a},t)=>s.jsx(r.$G,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(d.Z,{className:"h-4 w-4"})}));h.displayName=r.$G.displayName;let m=n.forwardRef(({className:e,children:a,position:t="popper",...n},d)=>s.jsx(r.h_,{children:(0,s.jsxs)(r.VY,{ref:d,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...n,children:[s.jsx(b,{}),s.jsx(r.l_,{className:(0,l.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(h,{})]})}));m.displayName=r.VY.displayName,n.forwardRef(({className:e,...a},t)=>s.jsx(r.__,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=r.__.displayName;let p=n.forwardRef(({className:e,children:a,...t},n)=>(0,s.jsxs)(r.ck,{ref:n,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(r.wU,{children:s.jsx(c.Z,{className:"h-4 w-4"})})}),s.jsx(r.eT,{children:a})]}));p.displayName=r.ck.displayName,n.forwardRef(({className:e,...a},t)=>s.jsx(r.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=r.Z0.displayName},41156:(e,a,t)=>{"use strict";t.d(a,{RM:()=>c,SC:()=>o,iA:()=>d,pj:()=>u,ss:()=>f,xD:()=>i,yt:()=>l});var s=t(10326),n=t(17577),r=t(51223);let d=n.forwardRef(({className:e,...a},t)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})}));d.displayName="Table";let i=n.forwardRef(({className:e,...a},t)=>s.jsx("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",e),...a}));i.displayName="TableHeader";let c=n.forwardRef(({className:e,...a},t)=>s.jsx("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a}));c.displayName="TableBody";let l=n.forwardRef(({className:e,...a},t)=>s.jsx("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a}));l.displayName="TableFooter";let o=n.forwardRef(({className:e,...a},t)=>s.jsx("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let f=n.forwardRef(({className:e,...a},t)=>s.jsx("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));f.displayName="TableHead";let u=n.forwardRef(({className:e,...a},t)=>s.jsx("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));u.displayName="TableCell",n.forwardRef(({className:e,...a},t)=>s.jsx("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},82015:(e,a,t)=>{"use strict";t.d(a,{g:()=>d});var s=t(10326),n=t(17577),r=t(51223);let d=n.forwardRef(({className:e,...a},t)=>s.jsx("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...a}));d.displayName="Textarea"},53534:(e,a,t)=>{"use strict";t.d(a,{K2:()=>l,Tb:()=>i,Tk:()=>f,_f:()=>n,oN:()=>d,s6:()=>c,uK:()=>o,xh:()=>r}),t(15424);var s=t(46242),n=(0,s.$)("73bd2ff36e5bd9c053e885c0da2fc4042b460c21"),r=(0,s.$)("d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e"),d=(0,s.$)("155b73ae85051413d441b803e36c5266ebf53a83"),i=(0,s.$)("acffb53a6d7027804320983fc8c67d170e26cde2"),c=(0,s.$)("deec4d57c045361779aefb567fa996b8b9c29cb2"),l=(0,s.$)("37e64c7965fbbd38fea09c0d1e41d9ef24995e9d"),o=(0,s.$)("3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0"),f=(0,s.$)("f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec")},55782:(e,a,t)=>{"use strict";t.d(a,{default:()=>n.a});var s=t(34567),n=t.n(s)},34567:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r}});let s=t(53370);t(19510),t(71159);let n=s._(t(26155));function r(e,a){var t;let s={loading:e=>{let{error:a,isLoading:t,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let r={...s,...a};return(0,n.default)({...r,modules:null==(t=r.loadableGenerated)?void 0:t.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},13689:(e,a,t)=>{"use strict";let{createProxy:s}=t(68570);e.exports=s("/home/user/studio/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js")},26155:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return l}});let s=t(19510),n=t(71159),r=t(13689),d=t(44459);function i(e){return{default:e&&"default"in e?e.default:e}}let c={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},l=function(e){let a={...c,...e},t=(0,n.lazy)(()=>a.loader().then(i)),l=a.loading;function o(e){let i=l?(0,s.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,c=a.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.PreloadCss,{moduleIds:a.modules}),(0,s.jsx)(t,{...e})]}):(0,s.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(t,{...e})});return(0,s.jsx)(n.Suspense,{fallback:i,children:c})}return o.displayName="LoadableComponent",o}},44459:(e,a,t)=>{"use strict";let{createProxy:s}=t(68570);e.exports=s("/home/user/studio/node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js")},34753:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var s=t(19510),n=t(55782),r=t(53397);let d=(0,n.default)(()=>t.e(4059).then(t.bind(t,64059)).then(e=>e.InvoiceGeneratorView),{loadableGenerated:{modules:["app/(app)/accounting/invoices/create/page.tsx -> @/components/accounting/invoice-generator-view"]},ssr:!1,loading:()=>s.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(r.Z,{className:"h-10 w-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Invoice Generator..."})]})})});function i(){return s.jsx(d,{})}},96049:(e,a,t)=>{"use strict";t.r(a),t.d(a,{addContact:()=>g,addFolder:()=>m,deleteContacts:()=>j,deleteFolderAndContents:()=>x,getContacts:()=>y,getFolders:()=>h,updateContact:()=>v,updateFolder:()=>p});var s=t(27745);t(26461);var n=t(25825),r=t(91035),d=t(85723);let i="contactFolders",c="contacts",l="clientAccounts";function o(){if(!n.db)throw Error("Firestore is not initialized. Please check your Firebase configuration.")}let f=e=>({id:e.id,...e.data()}),u=e=>({id:e.id,...e.data()});async function b(e,a,t){o();let s=(0,r.query)((0,r.collection)(n.db,l),(0,r.where)("contactId","==",a),(0,r.where)("userId","==",e));if((await (0,r.getDocs)(s)).empty){let s={name:t,contactId:a,userId:e,createdAt:new Date};await (0,r.addDoc)((0,r.collection)(n.db,l),s)}}async function h(e){o();let a=(0,r.query)((0,r.collection)(n.db,i),(0,r.where)("userId","==",e));return(await (0,r.getDocs)(a)).docs.map(f)}async function m(e){o();let a={...e,parentId:e.parentId||null};return{id:(await (0,r.addDoc)((0,r.collection)(n.db,i),a)).id,...a}}async function p(e,a){o();let t=(0,r.doc)(n.db,i,e);await (0,r.updateDoc)(t,a)}async function x(e,a){o();let t=(0,r.writeBatch)(n.db),s=(await (0,r.getDocs)((0,r.query)((0,r.collection)(n.db,i),(0,r.where)("userId","==",e)))).docs.map(f),d=new Set([a]),l=e=>{s.filter(a=>a.parentId===e).forEach(e=>{d.add(e.id),l(e.id)})};if(l(a),d.size>0){let e=(0,r.query)((0,r.collection)(n.db,c),(0,r.where)("folderId","in",Array.from(d)));(await (0,r.getDocs)(e)).forEach(e=>{t.delete(e.ref)})}d.forEach(e=>{let a=(0,r.doc)(n.db,i,e);t.delete(a)}),await t.commit()}async function y(e){o();let a=(0,r.query)((0,r.collection)(n.db,c),(0,r.where)("userId","==",e));return(await (0,r.getDocs)(a)).docs.map(u)}async function g(e){o();let a=await (0,r.addDoc)((0,r.collection)(n.db,c),e);return await b(e.userId,a.id,e.name),{id:a.id,...e}}async function v(e,a){o();let t=(0,r.doc)(n.db,c,e);await (0,r.updateDoc)(t,a)}async function j(e){if(o(),0===e.length)return;let a=(0,r.writeBatch)(n.db),t=(0,r.query)((0,r.collection)(n.db,l),(0,r.where)("contactId","in",e));(await (0,r.getDocs)(t)).forEach(e=>{a.delete(e.ref)}),e.forEach(e=>{let t=(0,r.doc)(n.db,c,e);a.delete(t)}),await a.commit()}(0,d.ensureServerEntryExports)([h,m,p,x,y,g,v,j]),(0,s.registerServerReference)("d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e",h),(0,s.registerServerReference)("155b73ae85051413d441b803e36c5266ebf53a83",m),(0,s.registerServerReference)("acffb53a6d7027804320983fc8c67d170e26cde2",p),(0,s.registerServerReference)("deec4d57c045361779aefb567fa996b8b9c29cb2",x),(0,s.registerServerReference)("37e64c7965fbbd38fea09c0d1e41d9ef24995e9d",y),(0,s.registerServerReference)("3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0",g),(0,s.registerServerReference)("f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec",v),(0,s.registerServerReference)("73bd2ff36e5bd9c053e885c0da2fc4042b460c21",j)},92977:(e,a,t)=>{"use strict";t.d(a,{E:()=>r});var s=t(71271),n=t(99276);function r(e,a){let t=(0,s.Q)(e);return isNaN(a)?(0,n.L)(e,NaN):(a&&t.setDate(t.getDate()+a),t)}},44432:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},94207:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]])},73877:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("FileDigit",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"4",height:"6",x:"2",y:"12",rx:"2",key:"jm304g"}],["path",{d:"M10 12h2v6",key:"12zw74"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},96262:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]])},34412:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("FileOutput",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]])},43016:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5722:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},71315:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},49708:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},96451:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},37084:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},43891:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},91915:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},45707:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},31848:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(9664).Z)("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]])},72538:(e,a,t)=>{"use strict";t.d(a,{Z:()=>c});var s=t(71159);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:l,...o},f)=>(0,s.createElement)("svg",{ref:f,...d,width:a,height:a,stroke:e,strokeWidth:n?24*Number(t)/Number(a):t,className:r("lucide",i),...o},[...l.map(([e,a])=>(0,s.createElement)(e,a)),...Array.isArray(c)?c:[c]])),c=(e,a)=>{let t=(0,s.forwardRef)(({className:t,...d},c)=>(0,s.createElement)(i,{ref:c,iconNode:a,className:r(`lucide-${n(e)}`,t),...d}));return t.displayName=`${e}`,t}},53397:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(72538).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[8948,7514,6621,2371,7040,6458,6999,7344,8181,4428,8606,5338,450],()=>t(77430));module.exports=s})();