(()=>{var e={};e.id=9271,e.ids=[9271],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},44009:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(88660),s(25215),s(35866),s(20306);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(app)",{children:["accounting",{children:["invoices",{children:["receipt",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,88660)),"/home/user/studio/src/app/(app)/accounting/invoices/receipt/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,25215)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,20306)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/user/studio/src/app/(app)/accounting/invoices/receipt/page.tsx"],u="/(app)/accounting/invoices/receipt/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/accounting/invoices/receipt/page",pathname:"/accounting/invoices/receipt",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48626:(e,t,s)=>{Promise.resolve().then(s.bind(s,47455))},47455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(10326),a=s(17577),i=s(35047),n=s(91664),l=s(29752),o=s(41156),c=s(97171),d=s(78062),u=s(46721),m=s(88114),p=s(9921),x=s(49708),h=s(10036),f=s(98181),j=s(84097),g=s(82015),b=s(32589);let y=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"});function v(){let[e,t]=(0,a.useState)(null),[s,v]=(0,a.useState)(!0),[N,w]=(0,a.useState)(null),[P,q]=(0,a.useState)(""),{toast:k}=(0,j.pm)(),R=(0,i.useRouter)(),{handlePrint:T,contentRef:A}=(0,b.Y)();if(s)return r.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:r.jsx(u.Z,{className:"h-8 w-8 animate-spin"})});if(N||!e)return r.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:r.jsx(l.Zb,{className:"w-full max-w-md text-center",children:(0,r.jsxs)(l.aY,{className:"p-6",children:[r.jsx(m.Z,{className:"mx-auto h-12 w-12 text-destructive"}),r.jsx("h2",{className:"mt-4 text-xl font-semibold",children:"Could not load receipt"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:N||"An unknown error occurred."}),(0,r.jsxs)(n.z,{className:"mt-6",onClick:()=>R.push("/accounting/invoices/payments"),children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Return to Accounts Receivable"]})]})})});let{invoice:S,carryForwardAmount:_}=e,C=S.originalAmount-S.amountPaid+_;return(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center max-w-4xl mx-auto",children:[(0,r.jsxs)(n.z,{variant:"outline",onClick:()=>R.push("/accounting/invoices/payments"),children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Back to Accounts Receivable"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(n.z,{variant:"outline",onClick:T,children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"})," Print Receipt"]}),(0,r.jsxs)(n.z,{onClick:()=>{e&&k({title:"Email Sent (Simulation)",description:`The receipt for invoice ${e.invoice.invoiceNumber} has been sent to ${e.invoice.clientName}.`})},children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4"})," Email Receipt"]})]})]}),r.jsx(l.Zb,{id:"invoice-preview",ref:A,className:"max-w-4xl mx-auto",children:(0,r.jsxs)(l.aY,{className:"p-8 relative",children:[C<=.001&&r.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",fontSize:"8rem",fontWeight:"bold",color:"rgba(0, 128, 0, 0.10)",border:"15px solid rgba(0, 128, 0, 0.10)",padding:"1rem 2rem",borderRadius:"10px",zIndex:1,pointerEvents:"none",lineHeight:"1"},children:"PAID"}),(0,r.jsxs)("header",{className:"flex justify-between items-start pb-6 border-b",children:[r.jsx(c.T,{className:"text-primary"}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("h1",{className:"text-4xl font-bold uppercase text-gray-700",children:"Receipt"}),(0,r.jsxs)("p",{className:"text-gray-500",children:["#",S.invoiceNumber]})]})]}),(0,r.jsxs)("section",{className:"flex justify-between mt-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"font-bold text-gray-500 uppercase mb-2",children:"Bill To"}),r.jsx("p",{className:"font-bold text-lg",children:S.clientName})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-bold text-gray-500",children:"Date Issued:"})," ",(0,f.WU)(new Date,"PP")]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-bold text-gray-500",children:"Original Due Date:"})," ",(0,f.WU)(S.dueDate,"PP")]})]})]}),r.jsx("section",{className:"mt-8",children:(0,r.jsxs)(o.iA,{className:"text-sm",children:[r.jsx(o.xD,{className:"bg-gray-100",children:(0,r.jsxs)(o.SC,{children:[r.jsx(o.ss,{className:"w-1/2 text-gray-600",children:"Description"}),r.jsx(o.ss,{className:"text-right text-gray-600",children:"Total"})]})}),(0,r.jsxs)(o.RM,{children:[(0,r.jsxs)(o.SC,{children:[r.jsx(o.pj,{children:"Amount carried forward from previous invoices"}),r.jsx(o.pj,{className:"text-right",children:y(_)})]}),(0,r.jsxs)(o.SC,{children:[(0,r.jsxs)(o.pj,{children:["Original Invoice Amount (#",S.invoiceNumber,")"]}),r.jsx(o.pj,{className:"text-right",children:y(S.originalAmount)})]})]})]})}),r.jsx("section",{className:"flex justify-end mt-6",children:(0,r.jsxs)("div",{className:"w-full max-w-sm space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Total Due Before Payment:"}),r.jsx("span",{children:y(_+S.originalAmount)})]}),r.jsx(d.Separator,{}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:["Payment received on ",(0,f.WU)(new Date,"PP"),":"]}),(0,r.jsxs)("span",{className:"text-green-600",children:["(",y(S.amountPaid),")"]})]}),r.jsx(d.Separator,{}),(0,r.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{className:"text-gray-600",children:"Total Balance Due:"}),r.jsx("span",{children:y(C)})]})]})}),(0,r.jsxs)("section",{className:"mt-8",children:[r.jsx("h4",{className:"font-bold text-gray-500 uppercase mb-2",children:"Notes"}),r.jsx(g.g,{placeholder:"Add a personal note to your client...",value:P,onChange:e=>q(e.target.value),className:"print:border-none print:p-0 print:shadow-none print:bg-transparent"})]}),r.jsx("footer",{className:"mt-12 pt-6 border-t text-center text-xs text-gray-400",children:r.jsx("p",{children:"Thank you for your business!"})})]})})]})}},41156:(e,t,s)=>{"use strict";s.d(t,{RM:()=>o,SC:()=>d,iA:()=>n,pj:()=>m,ss:()=>u,xD:()=>l,yt:()=>c});var r=s(10326),a=s(17577),i=s(51223);let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let l=a.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));c.displayName="TableFooter";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let u=a.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableHead";let m=a.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));m.displayName="TableCell",a.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},82015:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(10326),a=s(17577),i=s(51223);let n=a.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Textarea"},32589:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(17577);let a=()=>{let e=(0,r.useRef)(null),t=(0,r.useRef)(null),s=(0,r.useCallback)(()=>{if(!t.current)return;let e=t.current.innerHTML;document.body.innerHTML;let s=window.open("","","height=600,width=800");if(s){s.document.write("<html><head><title>Print</title>");let t=Array.from(document.styleSheets).map(e=>e.href?`<link rel="stylesheet" href="${e.href}">`:"").join(""),r=Array.from(document.querySelectorAll("style")).map(e=>e.outerHTML).join("");s.document.write(t),s.document.write(r),s.document.write("</head><body >"),s.document.write(e),s.document.write("</body></html>"),s.document.close(),s.focus(),setTimeout(()=>{s.print(),s.close()},500)}else{let t=document.createElement("iframe");t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.border="0",document.body.appendChild(t);let s=t.contentWindow?.document||t.contentDocument;s&&(s.write(e),s.close(),t.contentWindow?.focus(),t.contentWindow?.print()),setTimeout(()=>{document.body.removeChild(t)},500)}},[]);return{contentRef:t,triggerRef:e,handlePrint:s}}},88660:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=s(68570);let a=(0,r.createProxy)(String.raw`/home/user/studio/src/app/(app)/accounting/invoices/receipt/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,r.createProxy)(String.raw`/home/user/studio/src/app/(app)/accounting/invoices/receipt/page.tsx#default`)},9921:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9664).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46721:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9664).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},49708:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9664).Z)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},88114:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9664).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,7514,6621,2371,7040,7344,8181,8606,5338],()=>s(44009));module.exports=r})();