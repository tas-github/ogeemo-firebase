(()=>{var e={};e.id=4363,e.ids=[4363],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},89893:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(53988),s(25215),s(35866),s(20306);var a=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["(app)",{children:["accounting",{children:["accounts-payable",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,53988)),"/home/user/studio/src/app/(app)/accounting/accounts-payable/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,25215)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,20306)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/user/studio/src/app/(app)/accounting/accounts-payable/page.tsx"],u="/(app)/accounting/accounts-payable/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(app)/accounting/accounts-payable/page",pathname:"/accounting/accounts-payable",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1320:(e,t,s)=>{Promise.resolve().then(s.bind(s,933)),Promise.resolve().then(s.bind(s,46618)),Promise.resolve().then(s.bind(s,4844))},4844:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AccountsPayableView:()=>_});var a=s(10326),r=s(17577),i=s.n(r),n=s(41156),l=s(29752),c=s(91664),o=s(38655),d=s(46721),u=s(14289),p=s(84736),x=s(5722),m=s(37084),h=s(43821),j=s(10143),f=s(24118),y=s(55296),g=s(41190),v=s(44794),N=s(29280),b=s(84097),w=s(98181),P=s(68136),C=s(51920);let S=["Utilities","Software","Office Supplies","Contractors","Marketing","Travel","Meals"],q=["Cloud Hosting Inc.","SaaS Tools Co.","Jane Designs","Office Supply Hub"],D={vendor:"",invoiceNumber:"",dueDate:"",amount:"",category:"",description:""};function _(){let[e,t]=i().useState([]),[s,r]=i().useState(!0),{user:_}=(0,P.a)(),[k,A]=i().useState(S),[Z,B]=i().useState(q),[F,M]=i().useState(!1),[z,R]=i().useState(null),[I,L]=i().useState(null),[U,G]=i().useState(D),{toast:T}=(0,b.pm)(),V=i().useMemo(()=>e.reduce((e,t)=>e+t.amount,0),[e]),$=e=>{e?(R(e),G({...e,amount:String(e.amount)})):(R(null),G(D)),M(!0)},E=async()=>{if(!_)return;let e=parseFloat(U.amount);if(!U.vendor||!U.dueDate||!U.category||!U.amount||isNaN(e)||e<=0){T({variant:"destructive",title:"Invalid Input",description:"Please fill all required fields correctly."});return}let s={vendor:U.vendor,invoiceNumber:U.invoiceNumber,dueDate:U.dueDate,amount:e,category:U.category,description:U.description};try{if(z)await (0,C.i$)(z.id,s),t(e=>e.map(e=>e.id===z.id?{...e,...s}:e)),T({title:"Bill Updated"});else{let e=await (0,C.qC)({...s,userId:_.uid});t(t=>[e,...t]),T({title:"Bill Added"})}M(!1)}catch(e){T({variant:"destructive",title:"Save Failed",description:e.message})}},O=async e=>{if(_)try{let s={date:(0,w.WU)(new Date,"yyyy-MM-dd"),company:e.vendor,description:e.description||`Payment for Invoice #${e.invoiceNumber}`,amount:e.amount,category:e.category,explanation:`Paid bill from A/P on ${(0,w.WU)(new Date,"PP")}`,documentNumber:e.invoiceNumber,type:"business",userId:_.uid};await (0,C.mU)(s),await (0,C.Wd)(e.id),t(t=>t.filter(t=>t.id!==e.id)),T({title:"Payment Recorded",description:`Bill from ${e.vendor} marked as paid and moved to expenses.`})}catch(e){console.error("Failed to record payment:",e),T({variant:"destructive",title:"Error",description:e.message||"Could not record payment."})}},W=async()=>{if(I)try{await (0,C.Wd)(I.id),t(e=>e.filter(e=>e.id!==I.id)),T({title:"Bill Deleted",variant:"destructive"})}catch(e){T({variant:"destructive",title:"Delete Failed",description:e.message})}finally{L(null)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[a.jsx(h.AccountingPageHeader,{pageTitle:"Accounts Payable"}),(0,a.jsxs)("header",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold font-headline text-primary",children:"Accounts Payable"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Manage and track all outstanding bills from your vendors."})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(l.ll,{children:"Bills to Pay"}),a.jsx(l.SZ,{children:"A list of unpaid invoices from vendors."})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Due"}),a.jsx("p",{className:"text-2xl font-bold text-destructive",children:V.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"flex justify-end mb-4",children:(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>$(),children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"})," Add Bill"]})}),s?a.jsx("div",{className:"flex justify-center items-center h-48",children:a.jsx(d.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsxs)(n.iA,{children:[a.jsx(n.xD,{children:(0,a.jsxs)(n.SC,{children:[a.jsx(n.ss,{children:"Vendor"}),a.jsx(n.ss,{children:"Description"}),a.jsx(n.ss,{children:"Due Date"}),a.jsx(n.ss,{children:"Category"}),a.jsx(n.ss,{className:"text-right",children:"Amount"}),a.jsx(n.ss,{className:"text-right",children:"Actions"})]})}),a.jsx(n.RM,{children:e.map(e=>(0,a.jsxs)(n.SC,{children:[a.jsx(n.pj,{className:"font-medium",children:e.vendor}),a.jsx(n.pj,{children:e.description}),a.jsx(n.pj,{children:e.dueDate}),a.jsx(n.pj,{children:e.category}),a.jsx(n.pj,{className:"text-right font-mono",children:e.amount.toLocaleString("en-US",{style:"currency",currency:"USD"})}),a.jsx(n.pj,{className:"text-right",children:(0,a.jsxs)(j.h_,{children:[a.jsx(j.$F,{asChild:!0,children:a.jsx(c.z,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(u.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(j.AW,{align:"end",children:[(0,a.jsxs)(j.Xi,{onSelect:()=>O(e),children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Record Payment"]}),(0,a.jsxs)(j.Xi,{onSelect:()=>$(e),children:[a.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(j.Xi,{className:"text-destructive",onSelect:()=>L(e),children:[a.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})]})]})]}),a.jsx(f.Vq,{open:F,onOpenChange:M,children:(0,a.jsxs)(f.cZ,{children:[a.jsx(f.fK,{children:a.jsx(f.$N,{children:z?"Edit Bill":"Add New Bill"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(v.Label,{htmlFor:"vendor",children:["Vendor ",a.jsx("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(N.Ph,{value:U.vendor,onValueChange:e=>G(t=>({...t,vendor:e})),children:[a.jsx(N.i4,{id:"vendor",children:a.jsx(N.ki,{placeholder:"Select a vendor"})}),a.jsx(N.Bw,{children:Z.map(e=>a.jsx(N.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(v.Label,{htmlFor:"dueDate",children:["Due Date ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(g.I,{id:"dueDate",type:"date",value:U.dueDate,onChange:e=>G(t=>({...t,dueDate:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(v.Label,{htmlFor:"amount",children:["Amount ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(g.I,{id:"amount",type:"number",placeholder:"0.00",value:U.amount,onChange:e=>G(t=>({...t,amount:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(v.Label,{htmlFor:"category",children:["Expense Category ",a.jsx("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(N.Ph,{value:U.category,onValueChange:e=>G(t=>({...t,category:e})),children:[a.jsx(N.i4,{id:"category",children:a.jsx(N.ki,{placeholder:"Select a category"})}),a.jsx(N.Bw,{children:k.map(e=>a.jsx(N.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(v.Label,{htmlFor:"invoiceNumber",children:"Invoice / Document #"}),a.jsx(g.I,{id:"invoiceNumber",value:U.invoiceNumber,onChange:e=>G(t=>({...t,invoiceNumber:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(v.Label,{htmlFor:"description",children:"Description"}),a.jsx(g.I,{id:"description",value:U.description,onChange:e=>G(t=>({...t,description:e.target.value}))})]})]}),(0,a.jsxs)(DialogFooter,{children:[a.jsx(c.z,{variant:"ghost",onClick:()=>M(!1),children:"Cancel"}),a.jsx(c.z,{onClick:E,children:z?"Save Changes":"Add Bill"})]})]})}),a.jsx(y.aR,{open:!!I,onOpenChange:()=>L(null),children:(0,a.jsxs)(y._T,{children:[(0,a.jsxs)(y.fY,{children:[a.jsx(y.f$,{children:"Are you sure?"}),a.jsx(y.yT,{children:"This will permanently delete this bill from your payable list."})]}),(0,a.jsxs)(y.xo,{children:[a.jsx(y.le,{children:"Cancel"}),a.jsx(y.OL,{onClick:W,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})}},29280:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>h,Ph:()=>d,Ql:()=>j,i4:()=>p,ki:()=>u});var a=s(10326),r=s(17577),i=s(44875),n=s(14711),l=s(76604),c=s(70744),o=s(51223);let d=i.fC;i.ZA;let u=i.B4,p=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.xz.displayName;let x=r.forwardRef(({className:e,...t},s)=>a.jsx(i.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=i.u_.displayName;let m=r.forwardRef(({className:e,...t},s)=>a.jsx(i.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(n.Z,{className:"h-4 w-4"})}));m.displayName=i.$G.displayName;let h=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(x,{}),a.jsx(i.l_,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(m,{})]})}));h.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let j=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(c.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));j.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},53988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(19510),r=s(55782),i=s(53397);let n=(0,r.default)(()=>s.e(953).then(s.bind(s,90953)).then(e=>e.AccountsPayableView),{loadableGenerated:{modules:["app/(app)/accounting/accounts-payable/page.tsx -> @/components/accounting/accounts-payable-view"]},ssr:!1,loading:()=>a.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(i.Z,{className:"h-10 w-10 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading Accounts Payable..."})]})})});function l(){return a.jsx(n,{})}},38655:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9664).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},5722:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(9664).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,7514,6621,2371,7040,6458,7344,8181,4428,3114,8606,5338,450,3387],()=>s(89893));module.exports=a})();