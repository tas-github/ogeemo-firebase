(()=>{var e={};e.id=9468,e.ids=[9468],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},38483:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),a(92112),a(25215),a(35866),a(20306);var t=a(23191),n=a(88716),r=a(37922),l=a.n(r),i=a(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(s,c);let d=["",{children:["(app)",{children:["accounting",{children:["tax",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,92112)),"/home/user/studio/src/app/(app)/accounting/tax/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25215)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,20306)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/home/user/studio/src/app/(app)/accounting/tax/page.tsx"],x="/(app)/accounting/tax/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/accounting/tax/page",pathname:"/accounting/tax",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},51102:(e,s,a)=>{Promise.resolve().then(a.bind(a,933)),Promise.resolve().then(a.bind(a,46618)),Promise.resolve().then(a.bind(a,34556))},34556:(e,s,a)=>{"use strict";a.r(s),a.d(s,{TaxView:()=>C});var t=a(10326),n=a(17577),r=a(29752),l=a(41156),i=a(50384),c=a(91664),d=a(5722),o=a(37084),x=a(91915),p=a(43891),m=a(291),u=a(38655),h=a(43821),j=a(84097),g=a(24118),y=a(41190),f=a(44794),v=a(29280),N=a(55296),T=a(78062);let b={taxType:"Business",paymentType:"Federal",salesTaxType:"GST",date:"",amount:"",notes:"",openingBalance:"",paidFrom:""},P=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),S=["Main Checking","Business Savings","Personal Savings","Stripe Balance"],w=({payments:e,onEdit:s,onDelete:a})=>{let r=(0,n.useMemo)(()=>e.reduce((e,s)=>e+s.amount,0),[e]);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-right mb-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Paid / Remitted"}),t.jsx("p",{className:"text-2xl font-bold text-primary",children:P(r)})]}),(0,t.jsxs)(l.iA,{children:[t.jsx(l.xD,{children:(0,t.jsxs)(l.SC,{children:[t.jsx(l.ss,{children:"Date"}),t.jsx(l.ss,{children:"Notes"}),t.jsx(l.ss,{className:"text-right",children:"Opening Balance"}),t.jsx(l.ss,{className:"text-right",children:"Amount Paid"}),t.jsx(l.ss,{className:"text-right",children:"Balance Owing"}),t.jsx(l.ss,{children:"Paid From"}),t.jsx(l.ss,{className:"w-10",children:t.jsx("span",{className:"sr-only",children:"Actions"})})]})}),t.jsx(l.RM,{children:e.length>0?e.map(e=>{let n=e.openingBalance-e.amount;return(0,t.jsxs)(l.SC,{children:[t.jsx(l.pj,{children:e.date}),t.jsx(l.pj,{children:e.notes}),t.jsx(l.pj,{className:"text-right font-mono",children:P(e.openingBalance)}),(0,t.jsxs)(l.pj,{className:"text-right font-mono text-green-600",children:["(",P(e.amount),")"]}),t.jsx(l.pj,{className:"text-right font-mono font-semibold",children:P(n)}),t.jsx(l.pj,{children:e.paidFrom}),(0,t.jsxs)(l.pj,{children:[t.jsx(c.z,{variant:"ghost",size:"icon",onClick:()=>s(e),children:t.jsx(d.Z,{className:"h-4 w-4"})}),t.jsx(c.z,{variant:"ghost",size:"icon",onClick:()=>a(e),children:t.jsx(o.Z,{className:"h-4 w-4 text-destructive"})})]})]},e.id)}):t.jsx(l.SC,{children:t.jsx(l.pj,{colSpan:7,className:"text-center h-24",children:"No payments recorded for this category."})})})]})]})},B=({payments:e,onEdit:s,onDelete:a,onRecordRemittance:n})=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"Tax Collected (Sales)"}),t.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:P(2250.75)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"From sales in the current period."})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"ITCs (Expenses)"}),t.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:P(1400.25)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Tax paid on business expenses."})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"Net Tax Owing"}),t.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:P(850.5)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Tax Collected - ITCs Paid."})]}),t.jsx(r.eW,{children:t.jsx(c.z,{size:"sm",className:"w-full",onClick:()=>n(850.5),children:"Record Remittance"})})]})]}),t.jsx(T.Separator,{}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Remittance History"}),t.jsx(w,{payments:e,onEdit:s,onDelete:a})]})]});function C(){let[e,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[d,o]=(0,n.useState)(null),[x,p]=(0,n.useState)(null),[m,T]=(0,n.useState)(b),[C,q]=(0,n.useState)("Business"),{toast:F}=(0,j.pm)(),A=e=>{s(e),localStorage.setItem("accountingTaxPayments",JSON.stringify(e))},k=e=>{e?(o(e),T({...e,amount:String(e.amount),openingBalance:String(e.openingBalance),salesTaxType:e.salesTaxType||"GST"})):(o(null),T({...b,taxType:C})),l(!0)},O=(0,n.useMemo)(()=>{let e=parseFloat(m.openingBalance),s=parseFloat(m.amount);return isNaN(e)||isNaN(s)?0:e-s},[m.openingBalance,m.amount]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[t.jsx(h.AccountingPageHeader,{pageTitle:"Tax Account"}),(0,t.jsxs)("header",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold font-headline text-primary",children:"Tax Account Manager"}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Track tax payments for personal, business, and corporate entities."})]}),(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[t.jsx(r.ll,{children:"Tax Payments"}),t.jsx(r.SZ,{children:"A record of all estimated and paid taxes."})]}),(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>k(),children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Add Payment"]})]})}),t.jsx(r.aY,{children:(0,t.jsxs)(i.mQ,{defaultValue:"Business",onValueChange:e=>q(e),children:[(0,t.jsxs)(i.dr,{className:"grid w-full grid-cols-4",children:[t.jsx(i.SP,{value:"Business",children:"Business"}),t.jsx(i.SP,{value:"Personal",children:"Personal"}),t.jsx(i.SP,{value:"Corporate",children:"Corporate"}),t.jsx(i.SP,{value:"Sales Tax",children:"Sales Tax"})]}),t.jsx(i.nU,{value:"Business",className:"mt-4",children:t.jsx(w,{payments:e.filter(e=>"Business"===e.taxType),onEdit:k,onDelete:p})}),t.jsx(i.nU,{value:"Personal",className:"mt-4",children:t.jsx(w,{payments:e.filter(e=>"Personal"===e.taxType),onEdit:k,onDelete:p})}),t.jsx(i.nU,{value:"Corporate",className:"mt-4",children:t.jsx(w,{payments:e.filter(e=>"Corporate"===e.taxType),onEdit:k,onDelete:p})}),t.jsx(i.nU,{value:"Sales Tax",className:"mt-4",children:t.jsx(B,{payments:e.filter(e=>"Sales Tax"===e.taxType),onEdit:k,onDelete:p,onRecordRemittance:e=>{o(null),T({...b,taxType:"Sales Tax",openingBalance:String(e.toFixed(2)),amount:String(e.toFixed(2)),notes:"Sales Tax Remittance"}),l(!0)}})})]})})]})]}),t.jsx(g.Vq,{open:a,onOpenChange:l,children:(0,t.jsxs)(g.cZ,{children:[t.jsx(g.fK,{children:t.jsx(g.$N,{children:d?"Edit Payment":"Sales Tax"===C?"Record Remittance":"Add New Payment"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(f.Label,{htmlFor:"taxType",children:"Tax Category"}),(0,t.jsxs)(v.Ph,{value:m.taxType,onValueChange:e=>T(s=>({...s,taxType:e})),children:[t.jsx(v.i4,{id:"taxType",children:t.jsx(v.ki,{})}),(0,t.jsxs)(v.Bw,{children:[t.jsx(v.Ql,{value:"Business",children:"Business"}),t.jsx(v.Ql,{value:"Personal",children:"Personal"}),t.jsx(v.Ql,{value:"Corporate",children:"Corporate"}),t.jsx(v.Ql,{value:"Sales Tax",children:"Sales Tax (GST, VAT, etc.)"})]})]})]}),"Sales Tax"===m.taxType&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(f.Label,{htmlFor:"salesTaxType",children:"Specific Sales Tax"}),(0,t.jsxs)(v.Ph,{value:m.salesTaxType,onValueChange:e=>T(s=>({...s,salesTaxType:e})),children:[t.jsx(v.i4,{id:"salesTaxType",children:t.jsx(v.ki,{})}),(0,t.jsxs)(v.Bw,{children:[t.jsx(v.Ql,{value:"GST",children:"GST"}),t.jsx(v.Ql,{value:"HST",children:"HST"}),t.jsx(v.Ql,{value:"VAT",children:"VAT"}),t.jsx(v.Ql,{value:"PST",children:"PST"}),t.jsx(v.Ql,{value:"Tariff",children:"Tariff"}),t.jsx(v.Ql,{value:"Other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(f.Label,{htmlFor:"date",children:["Payment Date ",t.jsx("span",{className:"text-destructive",children:"*"})]}),t.jsx(y.I,{id:"date",type:"date",value:m.date,onChange:e=>T(s=>({...s,date:e.target.value}))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(f.Label,{htmlFor:"openingBalance",children:["Opening Balance ",t.jsx("span",{className:"text-destructive",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground",children:"$"}),t.jsx(y.I,{id:"openingBalance",type:"number",placeholder:"0.00",value:m.openingBalance,onChange:e=>T(s=>({...s,openingBalance:e.target.value})),className:"pl-7"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(f.Label,{htmlFor:"amount",children:["Amount Paid ",t.jsx("span",{className:"text-destructive",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground",children:"$"}),t.jsx(y.I,{id:"amount",type:"number",placeholder:"0.00",value:m.amount,onChange:e=>T(s=>({...s,amount:e.target.value})),className:"pl-7"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(f.Label,{children:"Balance Owing"}),t.jsx(y.I,{value:P(O),readOnly:!0,disabled:!0,className:"font-mono"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(f.Label,{htmlFor:"paymentType",children:"Payment Type"}),(0,t.jsxs)(v.Ph,{value:m.paymentType,onValueChange:e=>T(s=>({...s,paymentType:e})),children:[t.jsx(v.i4,{id:"paymentType",children:t.jsx(v.ki,{})}),(0,t.jsxs)(v.Bw,{children:[t.jsx(v.Ql,{value:"Federal",children:"Federal"}),t.jsx(v.Ql,{value:"Provincial",children:"Provincial"}),t.jsx(v.Ql,{value:"Local",children:"Local"}),t.jsx(v.Ql,{value:"Other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(f.Label,{htmlFor:"paidFrom",children:["Paid From ",t.jsx("span",{className:"text-destructive",children:"*"})]}),(0,t.jsxs)(v.Ph,{value:m.paidFrom,onValueChange:e=>T(s=>({...s,paidFrom:e})),children:[t.jsx(v.i4,{id:"paidFrom",children:t.jsx(v.ki,{placeholder:"Select account..."})}),t.jsx(v.Bw,{children:S.map(e=>t.jsx(v.Ql,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(f.Label,{htmlFor:"notes",children:"Notes"}),t.jsx(y.I,{id:"notes",placeholder:"e.g., Q2 Estimated Payment",value:m.notes,onChange:e=>T(s=>({...s,notes:e.target.value}))})]})]}),(0,t.jsxs)(g.cN,{children:[t.jsx(c.z,{variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),t.jsx(c.z,{onClick:()=>{let s=parseFloat(m.amount),a=parseFloat(m.openingBalance);if(!m.date||!m.amount||isNaN(s)||s<=0||!m.openingBalance||isNaN(a)||a<0||!m.paidFrom){F({variant:"destructive",title:"Invalid Input",description:"All fields marked with * are required."});return}let t={taxType:m.taxType,paymentType:m.paymentType,salesTaxType:"Sales Tax"===m.taxType?m.salesTaxType:void 0,date:m.date,amount:s,notes:m.notes,openingBalance:a,paidFrom:m.paidFrom};d?(A(e.map(e=>e.id===d.id?{...d,...t}:e)),F({title:"Payment Updated"})):(A([{id:`payment_${Date.now()}`,...t},...e]),F({title:"Payment Added"})),l(!1)},children:d?"Save Changes":"Add Payment"})]})]})}),t.jsx(N.aR,{open:!!x,onOpenChange:()=>p(null),children:(0,t.jsxs)(N._T,{children:[(0,t.jsxs)(N.fY,{children:[t.jsx(N.f$,{children:"Are you sure?"}),t.jsx(N.yT,{children:"This will permanently delete this tax payment record."})]}),(0,t.jsxs)(N.xo,{children:[t.jsx(N.le,{children:"Cancel"}),t.jsx(N.OL,{onClick:()=>{x&&(A(e.filter(e=>e.id!==x.id)),F({title:"Payment Deleted",variant:"destructive"}),p(null))},className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})})]})}},20345:(e,s,a)=>{"use strict";a.d(s,{AG:()=>p,At:()=>x,Jb:()=>d,aG:()=>c,bg:()=>m,gN:()=>o});var t=a(10326),n=a(17577),r=a(34214),l=a(14370),i=(a(23019),a(51223));let c=n.forwardRef(({...e},s)=>t.jsx("nav",{ref:s,"aria-label":"breadcrumb",...e}));c.displayName="Breadcrumb";let d=n.forwardRef(({className:e,...s},a)=>t.jsx("ol",{ref:a,className:(0,i.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...s}));d.displayName="BreadcrumbList";let o=n.forwardRef(({className:e,...s},a)=>t.jsx("li",{ref:a,className:(0,i.cn)("inline-flex items-center gap-1.5",e),...s}));o.displayName="BreadcrumbItem";let x=n.forwardRef(({asChild:e,className:s,...a},n)=>{let l=e?r.g7:"a";return t.jsx(l,{ref:n,className:(0,i.cn)("transition-colors hover:text-foreground",s),...a})});x.displayName="BreadcrumbLink";let p=n.forwardRef(({className:e,...s},a)=>t.jsx("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("font-normal text-foreground",e),...s}));p.displayName="BreadcrumbPage";let m=({children:e,className:s,...a})=>t.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5",s),...a,children:e??t.jsx(l.Z,{})});m.displayName="BreadcrumbSeparator"},44794:(e,s,a)=>{"use strict";a.d(s,{Label:()=>d});var t=a(10326),n=a(17577),r=a(34478),l=a(79360),i=a(51223);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...s},a)=>t.jsx(r.f,{ref:a,className:(0,i.cn)(c(),e),...s}));d.displayName=r.f.displayName},92112:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(19510),n=a(55782),r=a(53397);let l=(0,n.default)(()=>a.e(2819).then(a.bind(a,82819)).then(e=>e.TaxView),{loadableGenerated:{modules:["app/(app)/accounting/tax/page.tsx -> @/components/accounting/tax-view"]},ssr:!1,loading:()=>t.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(r.Z,{className:"h-10 w-10 animate-spin text-primary"}),t.jsx("p",{className:"text-muted-foreground",children:"Loading Tax Manager..."})]})})});function i(){return t.jsx(l,{})}},34478:(e,s,a)=>{"use strict";a.d(s,{f:()=>i});var t=a(17577),n=a(45226),r=a(10326),l=t.forwardRef((e,s)=>(0,r.jsx)(n.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var i=l},291:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(9664).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,7514,6621,2371,7040,4428,7925,8606,5338,2889],()=>a(38483));module.exports=t})();