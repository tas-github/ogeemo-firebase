(()=>{var e={};e.id=118,e.ids=[118],e.modules={92509:e=>{"use strict";e.exports=require("firebase-admin")},50274:e=>{"use strict";e.exports=require("firebase-admin/storage")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},87883:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),a(52230),a(25215),a(35866),a(20306);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),d=a(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(t,l);let o=["",{children:["(app)",{children:["ogeemail",{children:["compose",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,52230)),"/home/user/studio/src/app/(app)/ogeemail/compose/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25215)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,20306)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/user/studio/src/app/(app)/ogeemail/compose/page.tsx"],u="/(app)/ogeemail/compose/page",f={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(app)/ogeemail/compose/page",pathname:"/ogeemail/compose",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},26485:(e,t,a)=>{let r={"155b73ae85051413d441b803e36c5266ebf53a83":()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.addFolder),"37e64c7965fbbd38fea09c0d1e41d9ef24995e9d":()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.getContacts),"3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0":()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.addContact),"73bd2ff36e5bd9c053e885c0da2fc4042b460c21":()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.deleteContacts),acffb53a6d7027804320983fc8c67d170e26cde2:()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.updateFolder),d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e:()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.getFolders),deec4d57c045361779aefb567fa996b8b9c29cb2:()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.deleteFolderAndContents),f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec:()=>Promise.resolve().then(a.bind(a,96049)).then(e=>e.updateContact),"01fc06bcd59fdf101e093294edb9928cbc32ca9e":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.getFileDownloadUrl),"3a0a8cdac7ea33faf978949a71d7843895204701":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.updateFile),"490af0b4d493ea9d29518677fdb1bebeca5b97ef":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.getFileContent),"5257ba681075f325b518c6620e75b281db364891":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.addFile),"528eb962991f10607df37bbaed22cd255915c0c5":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.deleteFolderAndContents),"6292276674a440923a3f0a8d7056c842e1dce2b4":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.getFilesForFolder),"7046b16c1dca8b64064cd9caf495def3b237133d":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.addFolder),"74670189be34c225aadd4daa3b2c2b9b771f896d":()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.saveEmailForContact),c0aafee0ab43078b94937d0ae184f8df5b5a75d6:()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.getFolders),cb6d88d0c9e1b05dfa437380f3d767299c3189f2:()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.deleteFiles),ff056b5026d2573701069d7974032e6e145a55b4:()=>Promise.resolve().then(a.bind(a,44670)).then(e=>e.updateFolder)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"155b73ae85051413d441b803e36c5266ebf53a83":s.bind(null,"155b73ae85051413d441b803e36c5266ebf53a83"),"37e64c7965fbbd38fea09c0d1e41d9ef24995e9d":s.bind(null,"37e64c7965fbbd38fea09c0d1e41d9ef24995e9d"),"3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0":s.bind(null,"3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0"),"73bd2ff36e5bd9c053e885c0da2fc4042b460c21":s.bind(null,"73bd2ff36e5bd9c053e885c0da2fc4042b460c21"),acffb53a6d7027804320983fc8c67d170e26cde2:s.bind(null,"acffb53a6d7027804320983fc8c67d170e26cde2"),d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e:s.bind(null,"d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e"),deec4d57c045361779aefb567fa996b8b9c29cb2:s.bind(null,"deec4d57c045361779aefb567fa996b8b9c29cb2"),f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec:s.bind(null,"f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec"),"01fc06bcd59fdf101e093294edb9928cbc32ca9e":s.bind(null,"01fc06bcd59fdf101e093294edb9928cbc32ca9e"),"3a0a8cdac7ea33faf978949a71d7843895204701":s.bind(null,"3a0a8cdac7ea33faf978949a71d7843895204701"),"490af0b4d493ea9d29518677fdb1bebeca5b97ef":s.bind(null,"490af0b4d493ea9d29518677fdb1bebeca5b97ef"),"5257ba681075f325b518c6620e75b281db364891":s.bind(null,"5257ba681075f325b518c6620e75b281db364891"),"528eb962991f10607df37bbaed22cd255915c0c5":s.bind(null,"528eb962991f10607df37bbaed22cd255915c0c5"),"6292276674a440923a3f0a8d7056c842e1dce2b4":s.bind(null,"6292276674a440923a3f0a8d7056c842e1dce2b4"),"7046b16c1dca8b64064cd9caf495def3b237133d":s.bind(null,"7046b16c1dca8b64064cd9caf495def3b237133d"),"74670189be34c225aadd4daa3b2c2b9b771f896d":s.bind(null,"74670189be34c225aadd4daa3b2c2b9b771f896d"),c0aafee0ab43078b94937d0ae184f8df5b5a75d6:s.bind(null,"c0aafee0ab43078b94937d0ae184f8df5b5a75d6"),cb6d88d0c9e1b05dfa437380f3d767299c3189f2:s.bind(null,"cb6d88d0c9e1b05dfa437380f3d767299c3189f2"),ff056b5026d2573701069d7974032e6e145a55b4:s.bind(null,"ff056b5026d2573701069d7974032e6e145a55b4")}},30325:(e,t,a)=>{Promise.resolve().then(a.bind(a,933)),Promise.resolve().then(a.bind(a,46618)),Promise.resolve().then(a.bind(a,4090))},33265:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(43353),s=a.n(r)},43353:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=a(91174);a(10326),a(17577);let s=r._(a(77028));function n(e,t){var a;let r={loading:e=>{let{error:t,isLoading:a,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,s.default)({...n,modules:null==(a=n.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=a(94129);function s(e){let{reason:t,children:a}=e;throw new r.BailoutToCSRError(t)}},77028:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=a(10326),s=a(17577),n=a(933),i=a(46618);function d(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},o=function(e){let t={...l,...e},a=(0,s.lazy)(()=>t.loader().then(d)),o=t.loading;function c(e){let d=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.PreloadCss,{moduleIds:t.modules}),(0,r.jsx)(a,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(s.Suspense,{fallback:d,children:l})}return c.displayName="LoadableComponent",c}},46618:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let r=a(10326),s=a(55403);function n(e){let{moduleIds:t}=e,a=(0,s.getExpectedRequestStore)("next/dynamic css"),n=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},4090:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ComposeEmailView:()=>Y});var r=a(10326),s=a(17577),n=a(33265),i=a(90434),d=a(74723),l=a(74064),o=a(27256),c=a(46721),u=a(9921),f=a(12607),m=a(44557),p=a(92154),h=a(82532),b=a(58793),x=a(29093),g=a(89507),y=a(17858),v=a(9664);let j=(0,v.Z)("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);var w=a(14672),N=a(63144),k=a(61896),C=a(51016);let S=(0,v.Z)("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);var P=a(79994),F=a(42556),z=a(40864),I=a(29752),M=a(91664),Z=a(41190),R=a(44794),q=a(78062),_=a(10143),D=a(24118),$=a(9969),A=a(29280),E=a(84097),T=a(68136),L=a(82015),O=a(53534),B=a(4502),V=a(34692),G=a(51223);let U=(0,n.default)(()=>Promise.all([a.e(6999),a.e(9925)]).then(a.bind(a,29925)),{loadableGenerated:{modules:["src/components/ogeemail/compose-view.tsx -> @/components/ogeemail/ogeemo-chat-dialog"]},loading:()=>r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:r.jsx(c.Z,{className:"h-10 w-10 animate-spin text-white"})})}),H=[{name:"General Inquiry",content:"<p>Hello,</p><p><br></p><p>I am writing to inquire about...</p><p><br></p><p>Thank you for your time.</p><p>Best regards,</p><p>[Your Name]</p>"},{name:"Meeting Request",content:"<h3>Meeting Request: [Subject]</h3><p>Hello team,</p><p><br></p><p>I would like to schedule a meeting to discuss [Topic]. Please let me know what time works best for you in the coming days.</p><p><br></p><p>Best,</p><p>[Your Name]</p>"}],K=o.z.object({name:o.z.string().min(2,{message:"Name must be at least 2 characters."}),email:o.z.string().email({message:"Please enter a valid email."}),folderId:o.z.string({required_error:"Please select a folder."})});function Y(){let[e,t]=s.useState(""),[a,n]=s.useState(""),[o,v]=s.useState(""),[Y,W]=s.useState(""),[J,X]=s.useState(""),[Q,ee]=s.useState(null),[et,ea]=s.useState(null),[er,es]=s.useState([]),[en,ei]=s.useState(!1),[ed,el]=s.useState([]),[eo,ec]=s.useState([]),[eu,ef]=s.useState(!0),[em,ep]=s.useState(!1),eh=s.useRef(null),eb=s.useRef(null),[ex]=s.useState(H),[eg,ey]=s.useState(!1),[ev,ej]=s.useState(""),[ew,eN]=s.useState(!1),[ek,eC]=s.useState(!1),[eS,eP]=s.useState(""),[eF,ez]=s.useState(!1),[eI,eM]=s.useState(null),[eZ,eR]=s.useState(!1),{toast:eq}=(0,E.pm)(),{user:e_}=(0,T.a)(),[eD,e$]=s.useState(""),eA=(0,d.cI)({resolver:(0,l.F)(K),defaultValues:{name:"",email:"",folderId:""}}),{isListening:eE,startListening:eT,stopListening:eL,isSupported:eO}=(0,V.I)({onTranscript:e=>{if(eh.current){let t=eD?`${eD} ${e}`.trim():e;eh.current.innerHTML=t,X(t);let a=document.createRange(),r=window.getSelection();r&&(a.selectNodeContents(eh.current),a.collapse(!1),r.removeAllRanges(),r.addRange(a))}}});s.useEffect(()=>{(async function(){if(!e_){ef(!1);return}ef(!0);try{let[e,t]=await Promise.all([(0,O.K2)(e_.uid),(0,O.xh)(e_.uid)]);el(e),ec(t)}catch(e){console.error("Failed to load contact data:",e),eq({variant:"destructive",title:"Error",description:"Could not load contact data."})}finally{ef(!1)}})()},[e_,eq]);let eB=e=>{let a=e.target.value;if(t(a),ea(null),ee(null),a.trim().length>1){let e=a.toLowerCase();es(ed.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)).slice(0,5)),ei(!0)}else es([]),ei(!1)},eV=e=>{t(`"${e.name}" <${e.email}>`),ea(e),es([]),ei(!1)},eG=e=>{eA.reset({email:e,name:"",folderId:""}),ep(!0)};async function eU(e){if(!e_){eq({variant:"destructive",title:"Error",description:"You must be logged in to create a contact."});return}try{let a=await (0,O.uK)({...e,userId:e_.uid});el(e=>[...e,a]),eA.reset(),ep(!1),Q===a.email&&(t(`"${a.name}" <${a.email}>`),ea(a),ee(null)),eq({title:"Contact Created",description:`${a.name} has been added.`})}catch(e){console.error("Failed to save contact:",e),eq({variant:"destructive",title:"Save Failed",description:e.message})}}let eH=async()=>{if(!e_){eq({variant:"destructive",title:"Not logged in",description:"You must be logged in to save emails."});return}if(!et){eq({variant:"destructive",title:"No Contact Selected",description:"Please enter a valid contact in the 'To' field first."});return}let e=eh.current?.innerHTML||J;if(!Y.trim()&&!e.trim()){eq({variant:"destructive",title:"Empty Email",description:"Please provide a subject or body before saving."});return}eR(!0);try{await (0,B.pT)(e_.uid,et.name,{subject:Y||"Untitled Email",body:e}),eq({title:"Email Saved",description:`A copy of this email has been saved to the "${et.name}" folder in your File Manager.`})}catch(e){console.error("Failed to save email to contact folder:",e),eq({variant:"destructive",title:"Save Failed",description:e.message||"An unexpected error occurred."})}finally{eR(!1)}},eK=(e,t)=>{document.execCommand(e,!1,t),eh.current?.focus()},eY=e=>{eh.current&&(eh.current.innerHTML=e,X(e))},eW=async()=>{if(eS.trim()&&!eF){ez(!0),eM(null);try{let e=await fetch("/api/genkit/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:eS})});if(!e.ok){let t=await e.json();throw Error(t.error||"The API returned an error.")}let t=await e.json();eM(t.imageUrl)}catch(e){console.error("Image generation UI error:",e),eq({variant:"destructive",title:"Image Generation Failed",description:e.message||"An unexpected error occurred. Please try again."})}finally{ez(!1)}}},eJ=e=>e.preventDefault();return(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-6 h-full flex flex-col",children:[r.jsx(D.Vq,{open:em,onOpenChange:ep,children:(0,r.jsxs)(D.cZ,{children:[(0,r.jsxs)(D.fK,{children:[r.jsx(D.$N,{children:"Create New Contact"}),r.jsx(D.Be,{children:"This contact will be added to your contact list."})]}),r.jsx($.l0,{...eA,children:(0,r.jsxs)("form",{onSubmit:eA.handleSubmit(eU),className:"space-y-4 py-4",children:[r.jsx($.Wi,{control:eA.control,name:"name",render:({field:e})=>(0,r.jsxs)($.xJ,{children:[" ",r.jsx($.lX,{children:"Name"})," ",r.jsx($.NI,{children:r.jsx(Z.I,{...e})})," ",r.jsx($.zG,{})," "]})}),r.jsx($.Wi,{control:eA.control,name:"email",render:({field:e})=>(0,r.jsxs)($.xJ,{children:[" ",r.jsx($.lX,{children:"Email"})," ",r.jsx($.NI,{children:r.jsx(Z.I,{...e,disabled:!0})})," ",r.jsx($.zG,{})," "]})}),r.jsx($.Wi,{control:eA.control,name:"folderId",render:({field:e})=>(0,r.jsxs)($.xJ,{children:[" ",r.jsx($.lX,{children:"Folder"})," ",(0,r.jsxs)(A.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx($.NI,{children:r.jsx(A.i4,{children:r.jsx(A.ki,{placeholder:"Select a folder"})})}),r.jsx(A.Bw,{children:eo.map(e=>r.jsx(A.Ql,{value:e.id,children:e.name},e.id))})]}),r.jsx($.zG,{})]})}),(0,r.jsxs)(D.cN,{className:"pt-4 !mt-0",children:[r.jsx(M.z,{type:"button",variant:"ghost",onClick:()=>ep(!1),children:"Cancel"}),r.jsx(M.z,{type:"submit",children:"Create Contact"})]})]})})]})}),(0,r.jsxs)("header",{className:"relative text-center",children:[r.jsx(M.z,{asChild:!0,variant:"ghost",className:"absolute left-0 top-1/2 -translate-y-1/2",children:(0,r.jsxs)(i.default,{href:"/ogeemail",children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"})," Back to Inbox"]})}),r.jsx("h1",{className:"text-3xl font-bold font-headline text-primary",children:"Compose Email"})]}),r.jsx("div",{className:"flex-1 min-h-0",children:(0,r.jsxs)(I.Zb,{className:"h-full flex flex-col",children:[r.jsx(I.Ol,{children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(R.Label,{htmlFor:"to",className:"text-sm text-muted-foreground w-12 text-right",children:"To"}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[r.jsx(Z.I,{id:"to",ref:eb,className:"border-0 shadow-none focus-visible:ring-0",value:e,onChange:eB,onBlur:()=>{setTimeout(()=>{eb.current?.matches(":focus-within")||ei(!1),!et&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())&&ee(e.trim())},200)},onFocus:eB,autoComplete:"off"}),en&&er.length>0&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-background border rounded-md shadow-lg z-10 mt-1",children:r.jsx("ul",{className:"py-1",children:er.map(e=>(0,r.jsxs)("li",{className:"px-3 py-2 cursor-pointer hover:bg-accent",onMouseDown:t=>{t.preventDefault(),eV(e)},children:[r.jsx("p",{className:"font-medium",children:e.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]},e.id))})}),Q&&(0,r.jsxs)("div",{className:"pl-2 pt-1 text-xs text-muted-foreground",children:[r.jsx("span",{className:"mr-1",children:"Contact not found."}),r.jsx(M.z,{variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>eG(Q),children:"Add contact?"})]})]})]}),r.jsx(q.Separator,{}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(R.Label,{htmlFor:"cc",className:"text-sm text-muted-foreground w-12 text-right",children:"Cc"}),r.jsx(Z.I,{id:"cc",className:"border-0 shadow-none focus-visible:ring-0",value:a,onChange:e=>n(e.target.value)})]}),r.jsx(q.Separator,{}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(R.Label,{htmlFor:"bcc",className:"text-sm text-muted-foreground w-12 text-right",children:"Bcc"}),r.jsx(Z.I,{id:"bcc",className:"border-0 shadow-none focus-visible:ring-0",value:o,onChange:e=>v(e.target.value)})]}),r.jsx(q.Separator,{}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(R.Label,{htmlFor:"subject",className:"text-sm text-muted-foreground w-12 text-right",children:"Subject"}),r.jsx(Z.I,{id:"subject",className:"border-0 shadow-none focus-visible:ring-0",value:Y,onChange:e=>W(e.target.value)})]})]})}),r.jsx(q.Separator,{}),(0,r.jsxs)(I.aY,{className:"flex-1 flex flex-col p-0 min-h-0",children:[(0,r.jsxs)("div",{className:"p-2 border-b flex items-center gap-1 flex-wrap",children:[r.jsx(M.z,{variant:"ghost",size:"icon",title:"Bold",onMouseDown:eJ,onClick:()=>eK("bold"),children:r.jsx(f.Z,{className:"h-4 w-4"})}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Italic",onMouseDown:eJ,onClick:()=>eK("italic"),children:r.jsx(m.Z,{className:"h-4 w-4"})}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Underline",onMouseDown:eJ,onClick:()=>eK("underline"),children:r.jsx(p.Z,{className:"h-4 w-4"})}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Strikethrough",onMouseDown:eJ,onClick:()=>eK("strikeThrough"),children:r.jsx(h.Z,{className:"h-4 w-4"})}),r.jsx(q.Separator,{orientation:"vertical",className:"h-6 mx-1"}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Unordered List",onMouseDown:eJ,onClick:()=>eK("insertUnorderedList"),children:r.jsx(b.Z,{className:"h-4 w-4"})}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Ordered List",onMouseDown:eJ,onClick:()=>eK("insertOrderedList"),children:r.jsx(x.Z,{className:"h-4 w-4"})}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Blockquote",onMouseDown:eJ,onClick:()=>eK("formatBlock","blockquote"),children:r.jsx(g.Z,{className:"h-4 w-4"})}),r.jsx(q.Separator,{orientation:"vertical",className:"h-6 mx-1"}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Insert Link",onMouseDown:eJ,onClick:()=>{let e=prompt("Enter a URL:");e&&eK("createLink",e)},children:r.jsx(y.Z,{className:"h-4 w-4"})}),r.jsx(q.Separator,{orientation:"vertical",className:"h-6 mx-1"}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Attach File",children:r.jsx(j,{className:"h-4 w-4"})}),r.jsx(M.z,{variant:"ghost",size:"icon",title:"Generate Image",onClick:()=>eC(!0),children:r.jsx(w.Z,{className:"h-4 w-4"})}),r.jsx(q.Separator,{orientation:"vertical",className:"h-6 mx-1"}),r.jsx(M.z,{variant:"ghost",size:"icon",title:eE?"Stop dictation":"Dictate notes",onMouseDown:eJ,onClick:()=>{eE?eL():(e$(J),eh.current?.focus(),eT())},disabled:!1===eO,className:(0,G.cn)(eE&&"text-destructive"),children:eE?r.jsx(N.Z,{className:"h-4 w-4"}):r.jsx(k.Z,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r.jsx("div",{ref:eh,className:"prose dark:prose-invert max-w-none focus:outline-none min-h-full",contentEditable:!0,onInput:e=>{eE||X(e.currentTarget.innerHTML)},placeholder:"Compose your message..."})})]}),(0,r.jsxs)(I.eW,{className:"border-t p-3 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(M.z,{onClick:()=>eN(!0),className:"bg-orange-500 hover:bg-orange-600 text-white",children:[r.jsx(C.Z,{className:"mr-2 h-4 w-4"})," Ogeemo Assistant"]}),(0,r.jsxs)(D.Vq,{open:eg,onOpenChange:ey,children:[(0,r.jsxs)(_.h_,{children:[r.jsx(_.$F,{asChild:!0,children:(0,r.jsxs)(M.z,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[r.jsx(S,{className:"mr-2 h-4 w-4"})," Templates"]})}),(0,r.jsxs)(_.AW,{children:[ex.map(e=>r.jsx(_.Xi,{onSelect:()=>eY(e.content),children:e.name},e.name)),r.jsx(_.VD,{}),r.jsx(D.hg,{asChild:!0,children:(0,r.jsxs)(_.Xi,{children:[r.jsx(S,{className:"mr-2 h-4 w-4"})," Save as Template"]})})]})]}),(0,r.jsxs)(D.cZ,{children:[r.jsx(D.fK,{children:r.jsx(D.$N,{children:"Save as Template"})}),r.jsx("div",{className:"py-4",children:r.jsx(Z.I,{placeholder:"Template Name",value:ev,onChange:e=>ej(e.target.value)})}),(0,r.jsxs)(D.cN,{children:[r.jsx(M.z,{variant:"ghost",onClick:()=>ey(!1),children:"Cancel"}),r.jsx(M.z,{children:"Save"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(M.z,{onClick:eH,disabled:eZ||!et,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[eZ?r.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(P.Z,{className:"mr-2 h-4 w-4"}),eZ?"Saving...":"Save to Contact Folder"]}),(0,r.jsxs)(M.z,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[r.jsx(F.Z,{className:"mr-2 h-4 w-4"})," Send"]})]})]})]})}),r.jsx(D.Vq,{open:ek,onOpenChange:eC,children:(0,r.jsxs)(D.cZ,{children:[(0,r.jsxs)(D.fK,{children:[r.jsx(D.$N,{children:"Generate Image with AI"}),r.jsx(D.Be,{children:"Describe the image you want to create."})]}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[r.jsx(L.g,{placeholder:"A photorealistic cat...",value:eS,onChange:e=>eP(e.target.value),disabled:eF}),eF&&r.jsx("div",{className:"flex justify-center items-center h-48 w-full border-2 border-dashed rounded-lg",children:r.jsx(c.Z,{className:"h-8 w-8 animate-spin"})}),eI&&!eF&&r.jsx("img",{src:eI,alt:eS,className:"rounded-lg w-full h-auto object-contain max-h-96"})]}),(0,r.jsxs)(D.cN,{className:"gap-2 sm:justify-between",children:[r.jsx(M.z,{onClick:eW,disabled:!eS.trim()||eF,children:eF?(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(z.Z,{className:"mr-2 h-4 w-4"}),"Generate"]})}),eI&&r.jsx(M.z,{onClick:()=>{eI&&eK("insertImage",eI),eC(!1)},disabled:eF,children:"Insert Image"})]})]})}),ew&&r.jsx(U,{isOpen:ew,onOpenChange:eN})]})}},24118:(e,t,a)=>{"use strict";a.d(t,{$N:()=>b,Be:()=>x,GG:()=>u,Vq:()=>l,cN:()=>h,cZ:()=>m,fK:()=>p,hg:()=>o});var r=a(10326),s=a(17577),n=a(98958),i=a(43020),d=a(51223);let l=n.fC,o=n.xz,c=n.h_,u=n.x8,f=s.forwardRef(({className:e,...t},a)=>r.jsx(n.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));f.displayName=n.aV.displayName;let m=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(c,{children:[r.jsx(f,{}),(0,r.jsxs)(n.VY,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=n.VY.displayName;let p=({className:e,...t})=>r.jsx("div",{className:(0,d.cn)("flex flex-col space-y-1.5",e),...t});p.displayName="DialogHeader";let h=({className:e,...t})=>r.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});h.displayName="DialogFooter";let b=s.forwardRef(({className:e,...t},a)=>r.jsx(n.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));b.displayName=n.Dx.displayName;let x=s.forwardRef(({className:e,...t},a)=>r.jsx(n.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=n.dk.displayName},9969:(e,t,a)=>{"use strict";a.d(t,{NI:()=>b,Wi:()=>u,l0:()=>o,lX:()=>h,pf:()=>x,xJ:()=>p,zG:()=>g});var r=a(10326),s=a(17577),n=a(34214),i=a(74723),d=a(51223),l=a(44794);let o=i.RV,c=s.createContext({}),u=({...e})=>r.jsx(c.Provider,{value:{name:e.name},children:r.jsx(i.Qr,{...e})}),f=()=>{let e=s.useContext(c),t=s.useContext(m),{getFieldState:a,formState:r}=(0,i.Gc)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=t;return{id:d,name:e.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...n}},m=s.createContext({}),p=s.forwardRef(({className:e,...t},a)=>{let n=s.useId();return r.jsx(m.Provider,{value:{id:n},children:r.jsx("div",{ref:a,className:(0,d.cn)("space-y-2",e),...t})})});p.displayName="FormItem";let h=s.forwardRef(({className:e,...t},a)=>{let{error:s,formItemId:n}=f();return r.jsx(l.Label,{ref:a,className:(0,d.cn)(s&&"text-destructive",e),htmlFor:n,...t})});h.displayName="FormLabel";let b=s.forwardRef(({...e},t)=>{let{error:a,formItemId:s,formDescriptionId:i,formMessageId:d}=f();return r.jsx(n.g7,{ref:t,id:s,"aria-describedby":a?`${i} ${d}`:`${i}`,"aria-invalid":!!a,...e})});b.displayName="FormControl";let x=s.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:s}=f();return r.jsx("p",{ref:a,id:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})});x.displayName="FormDescription";let g=s.forwardRef(({className:e,children:t,...a},s)=>{let{error:n,formMessageId:i}=f(),l=n?String(n?.message??""):t;return l?r.jsx("p",{ref:s,id:i,className:(0,d.cn)("text-sm font-medium text-destructive",e),...a,children:l}):null});g.displayName="FormMessage"},44794:(e,t,a)=>{"use strict";a.d(t,{Label:()=>o});var r=a(10326),s=a(17577),n=a(34478),i=a(79360),d=a(51223);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...t},a)=>r.jsx(n.f,{ref:a,className:(0,d.cn)(l(),e),...t}));o.displayName=n.f.displayName},29280:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>h,Ph:()=>c,Ql:()=>b,i4:()=>f,ki:()=>u});var r=a(10326),s=a(17577),n=a(44875),i=a(14711),d=a(76604),l=a(70744),o=a(51223);let c=n.fC;n.ZA;let u=n.B4,f=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.xz,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,r.jsx(n.JO,{asChild:!0,children:r.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=n.xz.displayName;let m=s.forwardRef(({className:e,...t},a)=>r.jsx(n.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(d.Z,{className:"h-4 w-4"})}));m.displayName=n.u_.displayName;let p=s.forwardRef(({className:e,...t},a)=>r.jsx(n.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=n.$G.displayName;let h=s.forwardRef(({className:e,children:t,position:a="popper",...s},i)=>r.jsx(n.h_,{children:(0,r.jsxs)(n.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[r.jsx(m,{}),r.jsx(n.l_,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(p,{})]})}));h.displayName=n.VY.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(n.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let b=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.ck,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.wU,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),r.jsx(n.eT,{children:t})]}));b.displayName=n.ck.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(n.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},82015:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var r=a(10326),s=a(17577),n=a(51223);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));i.displayName="Textarea"},34692:(e,t,a)=>{"use strict";a.d(t,{I:()=>s});var r=a(17577);function s({onTranscript:e}){let[t,a]=(0,r.useState)("idle"),[s,n]=(0,r.useState)(void 0),i=(0,r.useRef)(null),d=(0,r.useRef)(null),l=(0,r.useCallback)(()=>{if(!s)return;if(!d.current)try{d.current=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.error("Web Audio API is not supported in this browser.",e);return}let e=d.current;"suspended"===e.state&&e.resume();let t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),a.gain.setValueAtTime(.1,e.currentTime),t.start(e.currentTime),t.stop(e.currentTime+.1)},[s]),o=(0,r.useCallback)(()=>{if("idle"!==t||!s)return;a("activating");let r=new(window.SpeechRecognition||window.webkitSpeechRecognition);i.current=r,r.lang="en-US",r.interimResults=!0,r.continuous=!0,r.onstart=()=>{l(),a("listening")},r.onend=()=>{a("idle"),i.current=null},r.onerror=e=>{"no-speech"===e.error||console.error("Speech recognition error:",e.error),a("idle")},r.onresult=t=>{let a=Array.from(t.results).map(e=>e[0]).map(e=>e.transcript).join("");(a=a.replace(/ comma/gi,",").replace(/ period/gi,".")).length>0&&(a=a.charAt(0).toUpperCase()+a.slice(1)),e(a)},r.start()},[t,s,e,l]),c=(0,r.useCallback)(()=>{i.current&&("listening"===t||"activating"===t)&&i.current.stop()},[t]);return{isListening:"listening"===t,status:t,startListening:o,stopListening:c,isSupported:s}}},53534:(e,t,a)=>{"use strict";a.d(t,{K2:()=>o,Tb:()=>d,Tk:()=>u,_f:()=>s,oN:()=>i,s6:()=>l,uK:()=>c,xh:()=>n}),a(15424);var r=a(46242),s=(0,r.$)("73bd2ff36e5bd9c053e885c0da2fc4042b460c21"),n=(0,r.$)("d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e"),i=(0,r.$)("155b73ae85051413d441b803e36c5266ebf53a83"),d=(0,r.$)("acffb53a6d7027804320983fc8c67d170e26cde2"),l=(0,r.$)("deec4d57c045361779aefb567fa996b8b9c29cb2"),o=(0,r.$)("37e64c7965fbbd38fea09c0d1e41d9ef24995e9d"),c=(0,r.$)("3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0"),u=(0,r.$)("f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec")},4502:(e,t,a)=>{"use strict";a.d(t,{Dd:()=>u,LK:()=>p,N2:()=>c,Tb:()=>d,c1:()=>f,gN:()=>m,iJ:()=>o,oN:()=>i,pT:()=>s,s6:()=>l,xh:()=>n}),a(15424);var r=a(46242),s=(0,r.$)("74670189be34c225aadd4daa3b2c2b9b771f896d"),n=(0,r.$)("c0aafee0ab43078b94937d0ae184f8df5b5a75d6"),i=(0,r.$)("7046b16c1dca8b64064cd9caf495def3b237133d"),d=(0,r.$)("ff056b5026d2573701069d7974032e6e145a55b4"),l=(0,r.$)("528eb962991f10607df37bbaed22cd255915c0c5"),o=(0,r.$)("6292276674a440923a3f0a8d7056c842e1dce2b4"),c=(0,r.$)("5257ba681075f325b518c6620e75b281db364891"),u=(0,r.$)("3a0a8cdac7ea33faf978949a71d7843895204701"),f=(0,r.$)("cb6d88d0c9e1b05dfa437380f3d767299c3189f2"),m=(0,r.$)("01fc06bcd59fdf101e093294edb9928cbc32ca9e"),p=(0,r.$)("490af0b4d493ea9d29518677fdb1bebeca5b97ef")},55782:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(34567),s=a.n(r)},34567:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=a(53370);a(19510),a(71159);let s=r._(a(26155));function n(e,t){var a;let r={loading:e=>{let{error:t,isLoading:a,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,s.default)({...n,modules:null==(a=n.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},13689:(e,t,a)=>{"use strict";let{createProxy:r}=a(68570);e.exports=r("/home/user/studio/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js")},26155:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=a(19510),s=a(71159),n=a(13689),i=a(44459);function d(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},o=function(e){let t={...l,...e},a=(0,s.lazy)(()=>t.loader().then(d)),o=t.loading;function c(e){let d=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.PreloadCss,{moduleIds:t.modules}),(0,r.jsx)(a,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(s.Suspense,{fallback:d,children:l})}return c.displayName="LoadableComponent",c}},44459:(e,t,a)=>{"use strict";let{createProxy:r}=a(68570);e.exports=r("/home/user/studio/node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js")},52230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(19510),s=a(55782),n=a(53397);let i=(0,s.default)(()=>a.e(6453).then(a.bind(a,6453)).then(e=>e.ComposeEmailView),{loadableGenerated:{modules:["app/(app)/ogeemail/compose/page.tsx -> @/components/ogeemail/compose-view"]},ssr:!1,loading:()=>r.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(n.Z,{className:"h-10 w-10 animate-spin text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading Composer..."})]})})});function d(){return r.jsx(i,{})}},30266:(e,t,a)=>{"use strict";let r;a.d(t,{getAdminStorage:()=>d});var s=a(92509),n=a.n(s),i=a(50274);(()=>{if(n().apps.length>0)return r=n().apps[0];let e=process.env.FIREBASE_SERVICE_ACCOUNT_KEY;if(!e)throw Error("The FIREBASE_SERVICE_ACCOUNT_KEY environment variable is not set. The application cannot connect to Firebase services on the server.");try{let t=JSON.parse(e);return r=n().initializeApp({credential:n().credential.cert(t),storageBucket:"ogeemo-firebase.firebasestorage.app"})}catch(e){throw Error(`Failed to parse Firebase service account key. Please ensure it is a valid JSON string. Error: ${e.message}`)}})();let d=()=>(0,i.getStorage)(r);n().firestore(r),n().auth(r)},25825:(e,t,a)=>{"use strict";a(95825),a(86986),a(91035),a(26797)},96049:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addContact:()=>y,addFolder:()=>h,deleteContacts:()=>j,deleteFolderAndContents:()=>x,getContacts:()=>g,getFolders:()=>p,updateContact:()=>v,updateFolder:()=>b});var r=a(27745);a(26461);var s=a(25825),n=a(91035),i=a(85723);let d="contactFolders",l="contacts",o="clientAccounts";function c(){if(!s.db)throw Error("Firestore is not initialized. Please check your Firebase configuration.")}let u=e=>({id:e.id,...e.data()}),f=e=>({id:e.id,...e.data()});async function m(e,t,a){c();let r=(0,n.query)((0,n.collection)(s.db,o),(0,n.where)("contactId","==",t),(0,n.where)("userId","==",e));if((await (0,n.getDocs)(r)).empty){let r={name:a,contactId:t,userId:e,createdAt:new Date};await (0,n.addDoc)((0,n.collection)(s.db,o),r)}}async function p(e){c();let t=(0,n.query)((0,n.collection)(s.db,d),(0,n.where)("userId","==",e));return(await (0,n.getDocs)(t)).docs.map(u)}async function h(e){c();let t={...e,parentId:e.parentId||null};return{id:(await (0,n.addDoc)((0,n.collection)(s.db,d),t)).id,...t}}async function b(e,t){c();let a=(0,n.doc)(s.db,d,e);await (0,n.updateDoc)(a,t)}async function x(e,t){c();let a=(0,n.writeBatch)(s.db),r=(await (0,n.getDocs)((0,n.query)((0,n.collection)(s.db,d),(0,n.where)("userId","==",e)))).docs.map(u),i=new Set([t]),o=e=>{r.filter(t=>t.parentId===e).forEach(e=>{i.add(e.id),o(e.id)})};if(o(t),i.size>0){let e=(0,n.query)((0,n.collection)(s.db,l),(0,n.where)("folderId","in",Array.from(i)));(await (0,n.getDocs)(e)).forEach(e=>{a.delete(e.ref)})}i.forEach(e=>{let t=(0,n.doc)(s.db,d,e);a.delete(t)}),await a.commit()}async function g(e){c();let t=(0,n.query)((0,n.collection)(s.db,l),(0,n.where)("userId","==",e));return(await (0,n.getDocs)(t)).docs.map(f)}async function y(e){c();let t=await (0,n.addDoc)((0,n.collection)(s.db,l),e);return await m(e.userId,t.id,e.name),{id:t.id,...e}}async function v(e,t){c();let a=(0,n.doc)(s.db,l,e);await (0,n.updateDoc)(a,t)}async function j(e){if(c(),0===e.length)return;let t=(0,n.writeBatch)(s.db),a=(0,n.query)((0,n.collection)(s.db,o),(0,n.where)("contactId","in",e));(await (0,n.getDocs)(a)).forEach(e=>{t.delete(e.ref)}),e.forEach(e=>{let a=(0,n.doc)(s.db,l,e);t.delete(a)}),await t.commit()}(0,i.ensureServerEntryExports)([p,h,b,x,g,y,v,j]),(0,r.registerServerReference)("d42b1f4c9a1b03939eac4ec4e129c1f6cee3693e",p),(0,r.registerServerReference)("155b73ae85051413d441b803e36c5266ebf53a83",h),(0,r.registerServerReference)("acffb53a6d7027804320983fc8c67d170e26cde2",b),(0,r.registerServerReference)("deec4d57c045361779aefb567fa996b8b9c29cb2",x),(0,r.registerServerReference)("37e64c7965fbbd38fea09c0d1e41d9ef24995e9d",g),(0,r.registerServerReference)("3f24dd26eea711a88bb48a6c1acef6fc1e5f40f0",y),(0,r.registerServerReference)("f0750ca6dad6c7e3f4dc90da7aebe5e12371ceec",v),(0,r.registerServerReference)("73bd2ff36e5bd9c053e885c0da2fc4042b460c21",j)},44670:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addFile:()=>y,addFolder:()=>h,deleteFiles:()=>j,deleteFolderAndContents:()=>x,getFileContent:()=>N,getFileDownloadUrl:()=>w,getFilesForFolder:()=>g,getFolders:()=>p,saveEmailForContact:()=>k,updateFile:()=>v,updateFolder:()=>b});var r=a(27745);a(26461);var s=a(25825),n=a(30266),i=a(91035),d=a(26797),l=a(85723);let o="fileFolders",c="files";function u(){if(!s.db)throw Error("Firestore is not initialized.");if(!s.storage)throw Error("Firebase Storage is not initialized.")}let f=e=>({id:e.id,...e.data()}),m=e=>{let t=e.data();return{id:e.id,...t,modifiedAt:t.modifiedAt?.toDate?t.modifiedAt.toDate():new Date}};async function p(e){u();let t=(0,i.query)((0,i.collection)(s.db,o),(0,i.where)("userId","==",e));return(await (0,i.getDocs)(t)).docs.map(f)}async function h(e){return u(),{id:(await (0,i.addDoc)((0,i.collection)(s.db,o),{...e,parentId:e.parentId||null})).id,...e}}async function b(e,t){u(),await (0,i.updateDoc)((0,i.doc)(s.db,o,e),t)}async function x(e,t){u();let a=(0,i.writeBatch)(s.db),r=(await (0,i.getDocs)((0,i.query)((0,i.collection)(s.db,o),(0,i.where)("userId","==",e)))).docs.map(f),n=new Set([t]),l=e=>{r.filter(t=>t.parentId===e).forEach(e=>{n.add(e.id),l(e.id)})};l(t);let m=(0,i.query)((0,i.collection)(s.db,c),(0,i.where)("folderId","in",Array.from(n)));for(let e of(await (0,i.getDocs)(m)).docs){let t=e.data();if(t.storagePath){let e=(0,d.ref)(s.storage,t.storagePath);await (0,d.deleteObject)(e).catch(e=>{"storage/object-not-found"!==e.code&&console.error(`Failed to delete file from storage: ${t.storagePath}`,e)})}a.delete(e.ref)}n.forEach(e=>{a.delete((0,i.doc)(s.db,o,e))}),await a.commit()}async function g(e,t){u();let a=(0,i.query)((0,i.collection)(s.db,c),(0,i.where)("userId","==",e),(0,i.where)("folderId","==",t));return(await (0,i.getDocs)(a)).docs.map(m)}async function y(e){u();let t=e.get("file"),a=e.get("userId"),r=e.get("folderId");if(!t||!a||!r)throw Error("Missing required file data for upload.");let n=`${a}/${r}/${Date.now()}-${t.name}`,l=(0,d.ref)(s.storage,n);await (0,d.uploadBytes)(l,t);let o={name:t.name,type:t.type,size:t.size,modifiedAt:new Date(t.lastModified),folderId:r,userId:a,storagePath:n};return{id:(await (0,i.addDoc)((0,i.collection)(s.db,c),o)).id,...o}}async function v(e,t){u(),await (0,i.updateDoc)((0,i.doc)(s.db,c,e),{...t,modifiedAt:(0,i.serverTimestamp)()})}async function j(e){u();let t=(0,i.writeBatch)(s.db);for(let a of e){let e=(0,i.doc)(s.db,c,a),r=await (0,i.getDoc)(e);if(r.exists()){let a=r.data();if(a.storagePath){let e=(0,d.ref)(s.storage,a.storagePath);await (0,d.deleteObject)(e).catch(e=>{"storage/object-not-found"!==e.code&&console.error(`Failed to delete file from storage: ${a.storagePath}`,e)})}t.delete(e)}}await t.commit()}async function w(e){let t=(0,n.getAdminStorage)().bucket("ogeemo-firebase.firebasestorage.app").file(e),[a]=await t.getSignedUrl({action:"read",expires:Date.now()+9e5});return a}async function N(e){let t=(0,n.getAdminStorage)().bucket("ogeemo-firebase.firebasestorage.app").file(e),[a]=await t.download();return a.toString("utf-8")}async function k(e,t,a){u();let r=await p(e),s=r.find(e=>"Client Documents"===e.name&&!e.parentId);s||(s=await h({name:"Client Documents",userId:e,parentId:null}));let n=r.find(e=>e.name===t&&e.parentId===s.id);n||(n=await h({name:t,userId:e,parentId:s.id}));let i=`${a.subject.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString()}.html`,d=new File([`<html><body><h1>${a.subject}</h1><div>${a.body}</div></body></html>`],i,{type:"text/html"}),l=new FormData;l.append("file",d),l.append("userId",e),l.append("folderId",n.id),await y(l)}(0,l.ensureServerEntryExports)([p,h,b,x,g,y,v,j,w,N,k]),(0,r.registerServerReference)("c0aafee0ab43078b94937d0ae184f8df5b5a75d6",p),(0,r.registerServerReference)("7046b16c1dca8b64064cd9caf495def3b237133d",h),(0,r.registerServerReference)("ff056b5026d2573701069d7974032e6e145a55b4",b),(0,r.registerServerReference)("528eb962991f10607df37bbaed22cd255915c0c5",x),(0,r.registerServerReference)("6292276674a440923a3f0a8d7056c842e1dce2b4",g),(0,r.registerServerReference)("5257ba681075f325b518c6620e75b281db364891",y),(0,r.registerServerReference)("3a0a8cdac7ea33faf978949a71d7843895204701",v),(0,r.registerServerReference)("cb6d88d0c9e1b05dfa437380f3d767299c3189f2",j),(0,r.registerServerReference)("01fc06bcd59fdf101e093294edb9928cbc32ca9e",w),(0,r.registerServerReference)("490af0b4d493ea9d29518677fdb1bebeca5b97ef",N),(0,r.registerServerReference)("74670189be34c225aadd4daa3b2c2b9b771f896d",k)},79994:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},9921:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},12607:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]])},51016:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},14672:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},44557:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]])},17858:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},29093:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]])},58793:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},61896:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},89507:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]])},42556:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},40864:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},63144:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},82532:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]])},92154:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(9664).Z)("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]])},72538:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(71159);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:d="",children:l,iconNode:o,...c},u)=>(0,r.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:n("lucide",d),...c},[...o.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...i},l)=>(0,r.createElement)(d,{ref:l,iconNode:t,className:n(`lucide-${s(e)}`,a),...i}));return a.displayName=`${e}`,a}},53397:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72538).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,7514,6621,2371,7040,6458,4428,6686,8606,5338],()=>a(87883));module.exports=r})();