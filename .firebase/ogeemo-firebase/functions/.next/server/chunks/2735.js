"use strict";exports.id=2735,exports.ids=[2735],exports.modules={33194:(e,t,a)=>{a.d(t,{f:()=>n});var d=a(10326);a(17577);var r=a(62173),s=a(14370),o=a(47382),i=a(51223),c=a(91664);function n({className:e,classNames:t,showOutsideDays:a=!0,...n}){return d.jsx(o._W,{showOutsideDays:a,className:(0,i.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,c.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,c.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:e,...t})=>d.jsx(r.Z,{className:(0,i.cn)("h-4 w-4",e),...t}),IconRight:({className:e,...t})=>d.jsx(s.Z,{className:(0,i.cn)("h-4 w-4",e),...t})},...n})}n.displayName="Calendar"},44794:(e,t,a)=>{a.d(t,{Label:()=>n});var d=a(10326),r=a(17577),s=a(34478),o=a(79360),i=a(51223);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef(({className:e,...t},a)=>d.jsx(s.f,{ref:a,className:(0,i.cn)(c(),e),...t}));n.displayName=s.f.displayName},51027:(e,t,a)=>{a.d(t,{J2:()=>i,xo:()=>c,yk:()=>n});var d=a(10326),r=a(17577),s=a(74964),o=a(51223);let i=s.fC,c=s.xz,n=r.forwardRef(({className:e,align:t="center",sideOffset:a=4,...r},i)=>d.jsx(s.h_,{children:d.jsx(s.VY,{ref:i,align:t,sideOffset:a,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));n.displayName=s.VY.displayName},29280:(e,t,a)=>{a.d(t,{Bw:()=>b,Ph:()=>l,Ql:()=>g,i4:()=>u,ki:()=>f});var d=a(10326),r=a(17577),s=a(44875),o=a(14711),i=a(76604),c=a(70744),n=a(51223);let l=s.fC;s.ZA;let f=s.B4,u=r.forwardRef(({className:e,children:t,...a},r)=>(0,d.jsxs)(s.xz,{ref:r,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,d.jsx(s.JO,{asChild:!0,children:d.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=s.xz.displayName;let p=r.forwardRef(({className:e,...t},a)=>d.jsx(s.u_,{ref:a,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=s.u_.displayName;let m=r.forwardRef(({className:e,...t},a)=>d.jsx(s.$G,{ref:a,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(o.Z,{className:"h-4 w-4"})}));m.displayName=s.$G.displayName;let b=r.forwardRef(({className:e,children:t,position:a="popper",...r},o)=>d.jsx(s.h_,{children:(0,d.jsxs)(s.VY,{ref:o,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[d.jsx(p,{}),d.jsx(s.l_,{className:(0,n.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(m,{})]})}));b.displayName=s.VY.displayName,r.forwardRef(({className:e,...t},a)=>d.jsx(s.__,{ref:a,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=s.__.displayName;let g=r.forwardRef(({className:e,children:t,...a},r)=>(0,d.jsxs)(s.ck,{ref:r,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(s.wU,{children:d.jsx(c.Z,{className:"h-4 w-4"})})}),d.jsx(s.eT,{children:t})]}));g.displayName=s.ck.displayName,r.forwardRef(({className:e,...t},a)=>d.jsx(s.Z0,{ref:a,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=s.Z0.displayName},82015:(e,t,a)=>{a.d(t,{g:()=>o});var d=a(10326),r=a(17577),s=a(51223);let o=r.forwardRef(({className:e,...t},a)=>d.jsx("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));o.displayName="Textarea"},15651:(e,t,a)=>{a.d(t,{FV:()=>n,Rp:()=>r,fk:()=>o,gI:()=>l,t1:()=>c,th:()=>i,ty:()=>s,xJ:()=>f}),a(15424);var d=a(46242);(0,d.$)("20ea5827869024758ea1369c501b5fe05e177fc7"),(0,d.$)("3d053f6b913248a930d32d6a2468fd1b6936ccf5");var r=(0,d.$)("09794e8dcdf04eaa9f6ab8d470608007b179b0ff");(0,d.$)("1d4b448501345a5df9d9bfd9e9372186dc07433e");var s=(0,d.$)("d5d7d880209157df6fc4daefd81c13e406a3e7ed"),o=(0,d.$)("4432788b4f7b855f470bfdfbeb99de7765710d70"),i=(0,d.$)("063e14528f074c4b26a38eebf71e9361694f0c1e"),c=(0,d.$)("4ac30c7452e54d345cf8b59a07bdcd2c4911f0ee"),n=(0,d.$)("70ebac256eab694a13bce309a154f4fe339b7353"),l=(0,d.$)("7e32b891fa54d283b5e79d141b4db9488e22dd10"),f=(0,d.$)("080d5ef7232b29c1c3b261fcd726cafbcc69c3ea");(0,d.$)("969774e54d243a66af66967419c787636372737d"),(0,d.$)("ab7fe8e2c4d14f04cd8052b8098482d3031f2155"),(0,d.$)("1f110a383a5558a172c9ad8d9b24cc1e8376eab0")},88122:(e,t,a)=>{a.d(t,{addMinutes:()=>d.addMinutes});var d=a(92728)},25825:(e,t,a)=>{a(95825),a(86986),a(91035),a(26797)},58092:(e,t,a)=>{a.r(t),a.d(t,{addProjectTemplate:()=>T,addProjectWithTasks:()=>y,addTask:()=>N,deleteProject:()=>w,deleteTask:()=>_,getProjectById:()=>g,getProjectTemplates:()=>R,getProjects:()=>b,getTasksForProject:()=>v,getTasksForUser:()=>j,updateProject:()=>x,updateProjectWithTasks:()=>h,updateTask:()=>D,updateTaskPositions:()=>I});var d=a(27745);a(26461);var r=a(25825),s=a(91035),o=a(88122),i=a(85723);let c="projects",n="tasks",l="projectTemplates";function f(){if(!r.db)throw Error("Firestore is not initialized. Please check your Firebase configuration.")}let u=e=>{let t=e.data();if(!t)throw Error("Document data is missing.");return{id:e.id,name:t.name,description:t.description||"",clientId:t.clientId||null,ownerId:t.ownerId||null,assigneeIds:t.assigneeIds||[],startDate:t.startDate?.toDate?t.startDate.toDate():null,dueDate:t.dueDate?.toDate?t.dueDate.toDate():null,userId:t.userId,createdAt:t.createdAt?.toDate?t.createdAt.toDate():new Date,reminder:t.reminder||null,steps:(t.steps||[]).map(e=>({...e,startTime:e.startTime?.toDate?e.startTime.toDate():null}))}},p=e=>{let t=e.data();if(!t)throw Error("Document data is missing.");return{id:e.id,title:t.title,description:t.description||"",start:t.start?.toDate?t.start.toDate():new Date,end:t.end?.toDate?t.end.toDate():new Date,status:t.status||"todo",position:t.position||0,projectId:t.projectId,userId:t.userId,assigneeIds:t.assigneeIds||[],reminder:t.reminder||null,stepId:t.stepId||null}},m=e=>({id:e.id,...e.data()});async function b(e){f();let t=(0,s.query)((0,s.collection)(r.db,c),(0,s.where)("userId","==",e));return(await (0,s.getDocs)(t)).docs.map(u).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}async function g(e){f();let t=(0,s.doc)(r.db,c,e),a=await (0,s.getDoc)(t);return a.exists()?u(a):null}async function y(e,t){f();let a=(0,s.writeBatch)(r.db),d=(0,s.doc)((0,s.collection)(r.db,c)),o={...e,steps:[],createdAt:new Date};return a.set(d,o),t.forEach((t,o)=>{let i=(0,s.doc)((0,s.collection)(r.db,n));a.set(i,{...t,projectId:d.id,userId:e.userId,position:o})}),await a.commit(),{id:d.id,...o}}async function x(e,t){f();let a=(0,s.doc)(r.db,c,e);await (0,s.updateDoc)(a,t)}async function h(e,t,a){f();let d=(0,s.writeBatch)(r.db),i=(0,s.doc)(r.db,c,t),l=(a.steps||[]).map(e=>{let t=e.id&&!e.id.startsWith("temp_")?e.id:(0,s.doc)((0,s.collection)(r.db,"projects")).id;return{...e,id:t}});d.update(i,{...a,steps:l});let u=(0,s.query)((0,s.collection)(r.db,n),(0,s.where)("projectId","==",t)),m=(await (0,s.getDocs)(u)).docs.map(p),b=new Map(m.filter(e=>e.stepId).map(e=>[e.stepId,e])),g=new Set(l.map(e=>e.id));for(let a of l){if(!a.id)continue;let i=b.get(a.id);if(a.connectToCalendar&&a.startTime){let c={title:a.title,description:a.description,start:a.startTime,end:(0,o.addMinutes)(a.startTime,a.durationMinutes),status:"todo",position:0,projectId:t,stepId:a.id};if(i){let e=(0,s.doc)(r.db,n,i.id);d.update(e,c)}else{let t=(0,s.doc)((0,s.collection)(r.db,n));d.set(t,{...c,userId:e})}}else if(!a.connectToCalendar&&i){let e=(0,s.doc)(r.db,n,i.id);d.delete(e)}}for(let e of m)if(e.stepId&&!g.has(e.stepId)){let t=(0,s.doc)(r.db,n,e.id);d.delete(t)}await d.commit()}async function w(e,t){f();let a=(0,s.writeBatch)(r.db);t.forEach(e=>{let t=(0,s.doc)(r.db,n,e);a.delete(t)});let d=(0,s.doc)(r.db,c,e);a.delete(d),await a.commit()}async function v(e){f();let t=(0,s.query)((0,s.collection)(r.db,n),(0,s.where)("projectId","==",e));return(await (0,s.getDocs)(t)).docs.map(p)}async function j(e){f();let t=(0,s.query)((0,s.collection)(r.db,n),(0,s.where)("userId","==",e));return(await (0,s.getDocs)(t)).docs.map(p)}async function N(e){return f(),{id:(await (0,s.addDoc)((0,s.collection)(r.db,n),e)).id,...e}}async function D(e,t){f();let a=(0,s.doc)(r.db,n,e);await (0,s.updateDoc)(a,t)}async function I(e){f();let t=(0,s.writeBatch)(r.db);e.forEach(e=>{let a=(0,s.doc)(r.db,n,e.id);t.update(a,{position:e.position,status:e.status})}),await t.commit()}async function _(e){f(),await (0,s.deleteDoc)((0,s.doc)(r.db,n,e))}async function R(e){f();let t=(0,s.query)((0,s.collection)(r.db,l),(0,s.where)("userId","==",e));return(await (0,s.getDocs)(t)).docs.map(m)}async function T(e){return f(),{id:(await (0,s.addDoc)((0,s.collection)(r.db,l),e)).id,...e}}(0,i.ensureServerEntryExports)([b,g,y,x,h,w,v,j,N,D,I,_,R,T]),(0,d.registerServerReference)("3d053f6b913248a930d32d6a2468fd1b6936ccf5",b),(0,d.registerServerReference)("09794e8dcdf04eaa9f6ab8d470608007b179b0ff",g),(0,d.registerServerReference)("1d4b448501345a5df9d9bfd9e9372186dc07433e",y),(0,d.registerServerReference)("d5d7d880209157df6fc4daefd81c13e406a3e7ed",x),(0,d.registerServerReference)("4432788b4f7b855f470bfdfbeb99de7765710d70",h),(0,d.registerServerReference)("063e14528f074c4b26a38eebf71e9361694f0c1e",w),(0,d.registerServerReference)("4ac30c7452e54d345cf8b59a07bdcd2c4911f0ee",v),(0,d.registerServerReference)("70ebac256eab694a13bce309a154f4fe339b7353",j),(0,d.registerServerReference)("7e32b891fa54d283b5e79d141b4db9488e22dd10",N),(0,d.registerServerReference)("080d5ef7232b29c1c3b261fcd726cafbcc69c3ea",D),(0,d.registerServerReference)("969774e54d243a66af66967419c787636372737d",I),(0,d.registerServerReference)("ab7fe8e2c4d14f04cd8052b8098482d3031f2155",_),(0,d.registerServerReference)("1f110a383a5558a172c9ad8d9b24cc1e8376eab0",R),(0,d.registerServerReference)("20ea5827869024758ea1369c501b5fe05e177fc7",T)}};