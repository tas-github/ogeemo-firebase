exports.id=5500,exports.ids=[5500],exports.modules={45847:(e,a,t)=>{let d={"01fc06bcd59fdf101e093294edb9928cbc32ca9e":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.getFileDownloadUrl),"3a0a8cdac7ea33faf978949a71d7843895204701":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.updateFile),"490af0b4d493ea9d29518677fdb1bebeca5b97ef":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.getFileContent),"5257ba681075f325b518c6620e75b281db364891":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.addFile),"528eb962991f10607df37bbaed22cd255915c0c5":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.deleteFolderAndContents),"6292276674a440923a3f0a8d7056c842e1dce2b4":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.getFilesForFolder),"7046b16c1dca8b64064cd9caf495def3b237133d":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.addFolder),"74670189be34c225aadd4daa3b2c2b9b771f896d":()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.saveEmailForContact),c0aafee0ab43078b94937d0ae184f8df5b5a75d6:()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.getFolders),cb6d88d0c9e1b05dfa437380f3d767299c3189f2:()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.deleteFiles),ff056b5026d2573701069d7974032e6e145a55b4:()=>Promise.resolve().then(t.bind(t,44670)).then(e=>e.updateFolder)};async function r(e,...a){return(await d[e]()).apply(null,a)}e.exports={"01fc06bcd59fdf101e093294edb9928cbc32ca9e":r.bind(null,"01fc06bcd59fdf101e093294edb9928cbc32ca9e"),"3a0a8cdac7ea33faf978949a71d7843895204701":r.bind(null,"3a0a8cdac7ea33faf978949a71d7843895204701"),"490af0b4d493ea9d29518677fdb1bebeca5b97ef":r.bind(null,"490af0b4d493ea9d29518677fdb1bebeca5b97ef"),"5257ba681075f325b518c6620e75b281db364891":r.bind(null,"5257ba681075f325b518c6620e75b281db364891"),"528eb962991f10607df37bbaed22cd255915c0c5":r.bind(null,"528eb962991f10607df37bbaed22cd255915c0c5"),"6292276674a440923a3f0a8d7056c842e1dce2b4":r.bind(null,"6292276674a440923a3f0a8d7056c842e1dce2b4"),"7046b16c1dca8b64064cd9caf495def3b237133d":r.bind(null,"7046b16c1dca8b64064cd9caf495def3b237133d"),"74670189be34c225aadd4daa3b2c2b9b771f896d":r.bind(null,"74670189be34c225aadd4daa3b2c2b9b771f896d"),c0aafee0ab43078b94937d0ae184f8df5b5a75d6:r.bind(null,"c0aafee0ab43078b94937d0ae184f8df5b5a75d6"),cb6d88d0c9e1b05dfa437380f3d767299c3189f2:r.bind(null,"cb6d88d0c9e1b05dfa437380f3d767299c3189f2"),ff056b5026d2573701069d7974032e6e145a55b4:r.bind(null,"ff056b5026d2573701069d7974032e6e145a55b4")}},24118:(e,a,t)=>{"use strict";t.d(a,{$N:()=>g,Be:()=>h,GG:()=>f,Vq:()=>l,cN:()=>m,cZ:()=>u,fK:()=>p,hg:()=>c});var d=t(10326),r=t(17577),i=t(98958),o=t(43020),n=t(51223);let l=i.fC,c=i.xz,s=i.h_,f=i.x8,b=r.forwardRef(({className:e,...a},t)=>d.jsx(i.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));b.displayName=i.aV.displayName;let u=r.forwardRef(({className:e,children:a,...t},r)=>(0,d.jsxs)(s,{children:[d.jsx(b,{}),(0,d.jsxs)(i.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,d.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(o.Z,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let p=({className:e,...a})=>d.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5",e),...a});p.displayName="DialogHeader";let m=({className:e,...a})=>d.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});m.displayName="DialogFooter";let g=r.forwardRef(({className:e,...a},t)=>d.jsx(i.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));g.displayName=i.Dx.displayName;let h=r.forwardRef(({className:e,...a},t)=>d.jsx(i.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=i.dk.displayName},44794:(e,a,t)=>{"use strict";t.d(a,{Label:()=>c});var d=t(10326),r=t(17577),i=t(34478),o=t(79360),n=t(51223);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...a},t)=>d.jsx(i.f,{ref:t,className:(0,n.cn)(l(),e),...a}));c.displayName=i.f.displayName},65158:(e,a,t)=>{"use strict";t.d(a,{ResizableHandle:()=>c,ResizablePanel:()=>l,ResizablePanelGroup:()=>n});var d=t(10326),r=t(97045),i=t(56271),o=t(51223);let n=({className:e,...a})=>d.jsx(r.eh,{className:(0,o.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...a}),l=r.s_,c=({withHandle:e,className:a,...t})=>d.jsx(r.OT,{className:(0,o.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",a),...t,children:e&&d.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:d.jsx(i.Z,{className:"h-2.5 w-2.5"})})})},3236:(e,a,t)=>{"use strict";t.d(a,{ScrollArea:()=>n});var d=t(10326),r=t(17577),i=t(16999),o=t(51223);let n=r.forwardRef(({className:e,children:a,...t},r)=>(0,d.jsxs)(i.fC,{ref:r,className:(0,o.cn)("relative overflow-hidden",e),...t,children:[d.jsx(i.l_,{className:"h-full w-full rounded-[inherit]",children:a}),d.jsx(l,{}),d.jsx(i.Ns,{})]}));n.displayName=i.fC.displayName;let l=r.forwardRef(({className:e,orientation:a="vertical",...t},r)=>d.jsx(i.gb,{ref:r,orientation:a,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:d.jsx(i.q4,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=i.gb.displayName},4502:(e,a,t)=>{"use strict";t.d(a,{Dd:()=>f,LK:()=>p,N2:()=>s,Tb:()=>n,c1:()=>b,gN:()=>u,iJ:()=>c,oN:()=>o,pT:()=>r,s6:()=>l,xh:()=>i}),t(15424);var d=t(46242),r=(0,d.$)("74670189be34c225aadd4daa3b2c2b9b771f896d"),i=(0,d.$)("c0aafee0ab43078b94937d0ae184f8df5b5a75d6"),o=(0,d.$)("7046b16c1dca8b64064cd9caf495def3b237133d"),n=(0,d.$)("ff056b5026d2573701069d7974032e6e145a55b4"),l=(0,d.$)("528eb962991f10607df37bbaed22cd255915c0c5"),c=(0,d.$)("6292276674a440923a3f0a8d7056c842e1dce2b4"),s=(0,d.$)("5257ba681075f325b518c6620e75b281db364891"),f=(0,d.$)("3a0a8cdac7ea33faf978949a71d7843895204701"),b=(0,d.$)("cb6d88d0c9e1b05dfa437380f3d767299c3189f2"),u=(0,d.$)("01fc06bcd59fdf101e093294edb9928cbc32ca9e"),p=(0,d.$)("490af0b4d493ea9d29518677fdb1bebeca5b97ef")},30266:(e,a,t)=>{"use strict";let d;t.d(a,{getAdminStorage:()=>n});var r=t(92509),i=t.n(r),o=t(50274);(()=>{if(i().apps.length>0)return d=i().apps[0];let e=process.env.FIREBASE_SERVICE_ACCOUNT_KEY;if(!e)throw Error("The FIREBASE_SERVICE_ACCOUNT_KEY environment variable is not set. The application cannot connect to Firebase services on the server.");try{let a=JSON.parse(e);return d=i().initializeApp({credential:i().credential.cert(a),storageBucket:"ogeemo-firebase.firebasestorage.app"})}catch(e){throw Error(`Failed to parse Firebase service account key. Please ensure it is a valid JSON string. Error: ${e.message}`)}})();let n=()=>(0,o.getStorage)(d);i().firestore(d),i().auth(d)},25825:(e,a,t)=>{"use strict";t(95825),t(86986),t(91035),t(26797)},44670:(e,a,t)=>{"use strict";t.r(a),t.d(a,{addFile:()=>w,addFolder:()=>m,deleteFiles:()=>y,deleteFolderAndContents:()=>h,getFileContent:()=>F,getFileDownloadUrl:()=>N,getFilesForFolder:()=>v,getFolders:()=>p,saveEmailForContact:()=>j,updateFile:()=>x,updateFolder:()=>g});var d=t(27745);t(26461);var r=t(25825),i=t(30266),o=t(91035),n=t(26797),l=t(85723);let c="fileFolders",s="files";function f(){if(!r.db)throw Error("Firestore is not initialized.");if(!r.storage)throw Error("Firebase Storage is not initialized.")}let b=e=>({id:e.id,...e.data()}),u=e=>{let a=e.data();return{id:e.id,...a,modifiedAt:a.modifiedAt?.toDate?a.modifiedAt.toDate():new Date}};async function p(e){f();let a=(0,o.query)((0,o.collection)(r.db,c),(0,o.where)("userId","==",e));return(await (0,o.getDocs)(a)).docs.map(b)}async function m(e){return f(),{id:(await (0,o.addDoc)((0,o.collection)(r.db,c),{...e,parentId:e.parentId||null})).id,...e}}async function g(e,a){f(),await (0,o.updateDoc)((0,o.doc)(r.db,c,e),a)}async function h(e,a){f();let t=(0,o.writeBatch)(r.db),d=(await (0,o.getDocs)((0,o.query)((0,o.collection)(r.db,c),(0,o.where)("userId","==",e)))).docs.map(b),i=new Set([a]),l=e=>{d.filter(a=>a.parentId===e).forEach(e=>{i.add(e.id),l(e.id)})};l(a);let u=(0,o.query)((0,o.collection)(r.db,s),(0,o.where)("folderId","in",Array.from(i)));for(let e of(await (0,o.getDocs)(u)).docs){let a=e.data();if(a.storagePath){let e=(0,n.ref)(r.storage,a.storagePath);await (0,n.deleteObject)(e).catch(e=>{"storage/object-not-found"!==e.code&&console.error(`Failed to delete file from storage: ${a.storagePath}`,e)})}t.delete(e.ref)}i.forEach(e=>{t.delete((0,o.doc)(r.db,c,e))}),await t.commit()}async function v(e,a){f();let t=(0,o.query)((0,o.collection)(r.db,s),(0,o.where)("userId","==",e),(0,o.where)("folderId","==",a));return(await (0,o.getDocs)(t)).docs.map(u)}async function w(e){f();let a=e.get("file"),t=e.get("userId"),d=e.get("folderId");if(!a||!t||!d)throw Error("Missing required file data for upload.");let i=`${t}/${d}/${Date.now()}-${a.name}`,l=(0,n.ref)(r.storage,i);await (0,n.uploadBytes)(l,a);let c={name:a.name,type:a.type,size:a.size,modifiedAt:new Date(a.lastModified),folderId:d,userId:t,storagePath:i};return{id:(await (0,o.addDoc)((0,o.collection)(r.db,s),c)).id,...c}}async function x(e,a){f(),await (0,o.updateDoc)((0,o.doc)(r.db,s,e),{...a,modifiedAt:(0,o.serverTimestamp)()})}async function y(e){f();let a=(0,o.writeBatch)(r.db);for(let t of e){let e=(0,o.doc)(r.db,s,t),d=await (0,o.getDoc)(e);if(d.exists()){let t=d.data();if(t.storagePath){let e=(0,n.ref)(r.storage,t.storagePath);await (0,n.deleteObject)(e).catch(e=>{"storage/object-not-found"!==e.code&&console.error(`Failed to delete file from storage: ${t.storagePath}`,e)})}a.delete(e)}}await a.commit()}async function N(e){let a=(0,i.getAdminStorage)().bucket("ogeemo-firebase.firebasestorage.app").file(e),[t]=await a.getSignedUrl({action:"read",expires:Date.now()+9e5});return t}async function F(e){let a=(0,i.getAdminStorage)().bucket("ogeemo-firebase.firebasestorage.app").file(e),[t]=await a.download();return t.toString("utf-8")}async function j(e,a,t){f();let d=await p(e),r=d.find(e=>"Client Documents"===e.name&&!e.parentId);r||(r=await m({name:"Client Documents",userId:e,parentId:null}));let i=d.find(e=>e.name===a&&e.parentId===r.id);i||(i=await m({name:a,userId:e,parentId:r.id}));let o=`${t.subject.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString()}.html`,n=new File([`<html><body><h1>${t.subject}</h1><div>${t.body}</div></body></html>`],o,{type:"text/html"}),l=new FormData;l.append("file",n),l.append("userId",e),l.append("folderId",i.id),await w(l)}(0,l.ensureServerEntryExports)([p,m,g,h,v,w,x,y,N,F,j]),(0,d.registerServerReference)("c0aafee0ab43078b94937d0ae184f8df5b5a75d6",p),(0,d.registerServerReference)("7046b16c1dca8b64064cd9caf495def3b237133d",m),(0,d.registerServerReference)("ff056b5026d2573701069d7974032e6e145a55b4",g),(0,d.registerServerReference)("528eb962991f10607df37bbaed22cd255915c0c5",h),(0,d.registerServerReference)("6292276674a440923a3f0a8d7056c842e1dce2b4",v),(0,d.registerServerReference)("5257ba681075f325b518c6620e75b281db364891",w),(0,d.registerServerReference)("3a0a8cdac7ea33faf978949a71d7843895204701",x),(0,d.registerServerReference)("cb6d88d0c9e1b05dfa437380f3d767299c3189f2",y),(0,d.registerServerReference)("01fc06bcd59fdf101e093294edb9928cbc32ca9e",N),(0,d.registerServerReference)("490af0b4d493ea9d29518677fdb1bebeca5b97ef",F),(0,d.registerServerReference)("74670189be34c225aadd4daa3b2c2b9b771f896d",j)},43022:(e,a,t)=>{"use strict";t.d(a,{Z:()=>d});let d=(0,t(9664).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}};