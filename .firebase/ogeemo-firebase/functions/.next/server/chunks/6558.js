"use strict";exports.id=6558,exports.ids=[6558],exports.modules={16558:(e,r,s)=>{s.r(r),s.d(r,{default:()=>y});var a=s(10326),t=s(17577),n=s(74723),l=s(74064),i=s(27256),o=s(40035),c=s(63144),d=s(61896),u=s(91664),m=s(76066),h=s(9969),x=s(41190),p=s(3282),f=s(82015),j=s(34692),v=s(84097),b=s(3236);let g=i.z.object({name:i.z.string().min(2,{message:"Name must be at least 2 characters."}),email:i.z.string().email({message:"Please enter a valid email."}),businessPhone:i.z.string().optional(),cellPhone:i.z.string().optional(),homePhone:i.z.string().optional(),faxNumber:i.z.string().optional(),primaryPhoneType:i.z.enum(["businessPhone","cellPhone","homePhone"]).optional(),notes:i.z.string().optional()});function y({isOpen:e,onOpenChange:r,contactToEdit:s,selectedFolderId:i,folders:y,onSave:N}){let{toast:w}=(0,v.pm)(),[C,k]=(0,t.useState)(""),I=(0,t.useRef)(null),P=(0,n.cI)({resolver:(0,l.F)(g),defaultValues:{name:"",email:"",businessPhone:"",cellPhone:"",homePhone:"",faxNumber:"",primaryPhoneType:void 0,notes:""}}),{isListening:z,startListening:R,stopListening:F,isSupported:S}=(0,j.I)({onTranscript:e=>{let r=C?`${C} ${e}`.trim():e;P.setValue("notes",r,{shouldValidate:!0})}}),E=()=>{z?F():(k(P.getValues("notes")||""),P.setFocus("notes"),R())};async function V(e){try{if(s){let r={...s,...e};N(r,!0)}else{if("all"===i){w({variant:"destructive",title:"Cannot Add Contact",description:"Please select a specific folder before adding a new contact."});return}let r={...e,folderId:i};N(r,!1)}r(!1)}catch(e){console.error("Failed to save contact:",e),w({variant:"destructive",title:"Save Failed",description:e.message||"Could not save the contact to the database."})}}let A=y.find(e=>e.id===(s?.folderId||i));return a.jsx(m.yo,{open:e,onOpenChange:r,children:(0,a.jsxs)(m.ue,{className:"sm:max-w-xl flex flex-col p-0",side:"right",children:[(0,a.jsxs)(m.Tu,{className:"p-6 pb-4",children:[a.jsx(m.bC,{className:"text-2xl font-bold font-headline text-primary",children:s?"Edit Contact":"New Contact"}),a.jsx(m.Ei,{children:s?`Editing details for ${s.name}.`:`Create a new contact in the "${A?.name||"Unassigned"}" folder.`})]}),a.jsx(h.l0,{...P,children:(0,a.jsxs)("form",{onSubmit:P.handleSubmit(V),className:"flex-1 flex flex-col min-h-0",children:[a.jsx(b.ScrollArea,{className:"flex-1",children:(0,a.jsxs)("div",{className:"px-6 pb-4 space-y-4",children:[a.jsx(h.Wi,{control:P.control,name:"name",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[" ",a.jsx(h.lX,{children:"Name"})," ",a.jsx(h.NI,{children:a.jsx(x.I,{placeholder:"John Doe",...e})})," ",a.jsx(h.zG,{})," "]})}),a.jsx(h.Wi,{control:P.control,name:"email",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[" ",a.jsx(h.lX,{children:"Email"})," ",a.jsx(h.NI,{children:a.jsx(x.I,{placeholder:"john.doe@example.com",...e})})," ",a.jsx(h.zG,{})," "]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(h.Wi,{control:P.control,name:"businessPhone",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[a.jsx(h.lX,{children:"Business #"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h.NI,{children:a.jsx(x.I,{placeholder:"123-456-7890",...e,className:e.value?"pr-10":""})}),e.value&&a.jsx(u.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-8 w-8 -translate-y-1/2",asChild:!0,children:(0,a.jsxs)("a",{href:`tel:${e.value}`,children:[a.jsx(o.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Call Business"})]})})]}),a.jsx(h.zG,{})]})}),a.jsx(h.Wi,{control:P.control,name:"cellPhone",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[a.jsx(h.lX,{children:"Cell #"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h.NI,{children:a.jsx(x.I,{placeholder:"123-456-7890",...e,className:e.value?"pr-10":""})}),e.value&&a.jsx(u.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-8 w-8 -translate-y-1/2",asChild:!0,children:(0,a.jsxs)("a",{href:`tel:${e.value}`,children:[a.jsx(o.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Call Cell"})]})})]}),a.jsx(h.zG,{})]})}),a.jsx(h.Wi,{control:P.control,name:"homePhone",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[a.jsx(h.lX,{children:"Home #"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h.NI,{children:a.jsx(x.I,{placeholder:"123-456-7890",...e,className:e.value?"pr-10":""})}),e.value&&a.jsx(u.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-8 w-8 -translate-y-1/2",asChild:!0,children:(0,a.jsxs)("a",{href:`tel:${e.value}`,children:[a.jsx(o.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Call Home"})]})})]}),a.jsx(h.zG,{})]})}),a.jsx(h.Wi,{control:P.control,name:"faxNumber",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[" ",a.jsx(h.lX,{children:"Fax #"})," ",a.jsx(h.NI,{children:a.jsx(x.I,{placeholder:"123-456-7890",...e})})," ",a.jsx(h.zG,{})," "]})})]}),a.jsx(h.Wi,{control:P.control,name:"primaryPhoneType",render:({field:e})=>(0,a.jsxs)(h.xJ,{className:"space-y-2",children:[a.jsx(h.lX,{children:"Primary Phone Number"}),a.jsx(h.pf,{children:"Select the best number to use for this contact."}),a.jsx(h.NI,{children:(0,a.jsxs)(p.E,{onValueChange:e.onChange,value:e.value,className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,a.jsxs)(h.xJ,{className:"flex items-center space-x-3 space-y-0 rounded-md border p-2 has-[:disabled]:opacity-50",children:[a.jsx(h.NI,{children:a.jsx(p.m,{value:"businessPhone",disabled:!P.getValues().businessPhone})}),a.jsx(h.lX,{className:"font-normal w-full cursor-pointer",children:"Business"})]}),(0,a.jsxs)(h.xJ,{className:"flex items-center space-x-3 space-y-0 rounded-md border p-2 has-[:disabled]:opacity-50",children:[a.jsx(h.NI,{children:a.jsx(p.m,{value:"cellPhone",disabled:!P.getValues().cellPhone})}),a.jsx(h.lX,{className:"font-normal w-full cursor-pointer",children:"Cell"})]}),(0,a.jsxs)(h.xJ,{className:"flex items-center space-x-3 space-y-0 rounded-md border p-2 has-[:disabled]:opacity-50",children:[a.jsx(h.NI,{children:a.jsx(p.m,{value:"homePhone",disabled:!P.getValues().homePhone})}),a.jsx(h.lX,{className:"font-normal w-full cursor-pointer",children:"Home"})]})]})}),a.jsx(h.zG,{})]})}),a.jsx(h.Wi,{control:P.control,name:"notes",render:({field:e})=>(0,a.jsxs)(h.xJ,{children:[a.jsx(h.lX,{children:"Notes"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h.NI,{children:a.jsx(f.g,{placeholder:"Reference to information regarding the client..",className:"resize-none pr-10",rows:5,...e,ref:I})}),(0,a.jsxs)(u.z,{type:"button",variant:z?"destructive":"ghost",size:"icon",className:"absolute bottom-2 right-2 h-8 w-8",onClick:E,disabled:!1===S,title:!1===S?"Voice not supported":z?"Stop dictation":"Dictate notes",children:[z?a.jsx(c.Z,{className:"h-4 w-4 animate-pulse"}):a.jsx(d.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:z?"Stop dictation":"Dictate notes"})]})]}),a.jsx(h.zG,{})]})})]})}),(0,a.jsxs)(m.FF,{className:"p-6 border-t",children:[a.jsx(u.z,{type:"button",variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),a.jsx(u.z,{type:"submit",children:s?"Save Changes":"Create Contact"})]})]})})]})})}},9969:(e,r,s)=>{s.d(r,{NI:()=>f,Wi:()=>u,l0:()=>c,lX:()=>p,pf:()=>j,xJ:()=>x,zG:()=>v});var a=s(10326),t=s(17577),n=s(34214),l=s(74723),i=s(51223),o=s(44794);let c=l.RV,d=t.createContext({}),u=({...e})=>a.jsx(d.Provider,{value:{name:e.name},children:a.jsx(l.Qr,{...e})}),m=()=>{let e=t.useContext(d),r=t.useContext(h),{getFieldState:s,formState:a}=(0,l.Gc)(),n=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},h=t.createContext({}),x=t.forwardRef(({className:e,...r},s)=>{let n=t.useId();return a.jsx(h.Provider,{value:{id:n},children:a.jsx("div",{ref:s,className:(0,i.cn)("space-y-2",e),...r})})});x.displayName="FormItem";let p=t.forwardRef(({className:e,...r},s)=>{let{error:t,formItemId:n}=m();return a.jsx(o.Label,{ref:s,className:(0,i.cn)(t&&"text-destructive",e),htmlFor:n,...r})});p.displayName="FormLabel";let f=t.forwardRef(({...e},r)=>{let{error:s,formItemId:t,formDescriptionId:l,formMessageId:i}=m();return a.jsx(n.g7,{ref:r,id:t,"aria-describedby":s?`${l} ${i}`:`${l}`,"aria-invalid":!!s,...e})});f.displayName="FormControl";let j=t.forwardRef(({className:e,...r},s)=>{let{formDescriptionId:t}=m();return a.jsx("p",{ref:s,id:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})});j.displayName="FormDescription";let v=t.forwardRef(({className:e,children:r,...s},t)=>{let{error:n,formMessageId:l}=m(),o=n?String(n?.message??""):r;return o?a.jsx("p",{ref:t,id:l,className:(0,i.cn)("text-sm font-medium text-destructive",e),...s,children:o}):null});v.displayName="FormMessage"},3282:(e,r,s)=>{s.d(r,{E:()=>o,m:()=>c});var a=s(10326),t=s(17577),n=s(18623),l=s(94426),i=s(51223);let o=t.forwardRef(({className:e,...r},s)=>a.jsx(n.fC,{className:(0,i.cn)("grid gap-2",e),...r,ref:s}));o.displayName=n.fC.displayName;let c=t.forwardRef(({className:e,...r},s)=>a.jsx(n.ck,{ref:s,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:a.jsx(n.z$,{className:"flex items-center justify-center",children:a.jsx(l.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));c.displayName=n.ck.displayName},82015:(e,r,s)=>{s.d(r,{g:()=>l});var a=s(10326),t=s(17577),n=s(51223);let l=t.forwardRef(({className:e,...r},s)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));l.displayName="Textarea"},34692:(e,r,s)=>{s.d(r,{I:()=>t});var a=s(17577);function t({onTranscript:e}){let[r,s]=(0,a.useState)("idle"),[t,n]=(0,a.useState)(void 0),l=(0,a.useRef)(null),i=(0,a.useRef)(null),o=(0,a.useCallback)(()=>{if(!t)return;if(!i.current)try{i.current=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.error("Web Audio API is not supported in this browser.",e);return}let e=i.current;"suspended"===e.state&&e.resume();let r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(880,e.currentTime),s.gain.setValueAtTime(.1,e.currentTime),r.start(e.currentTime),r.stop(e.currentTime+.1)},[t]),c=(0,a.useCallback)(()=>{if("idle"!==r||!t)return;s("activating");let a=new(window.SpeechRecognition||window.webkitSpeechRecognition);l.current=a,a.lang="en-US",a.interimResults=!0,a.continuous=!0,a.onstart=()=>{o(),s("listening")},a.onend=()=>{s("idle"),l.current=null},a.onerror=e=>{"no-speech"===e.error||console.error("Speech recognition error:",e.error),s("idle")},a.onresult=r=>{let s=Array.from(r.results).map(e=>e[0]).map(e=>e.transcript).join("");(s=s.replace(/ comma/gi,",").replace(/ period/gi,".")).length>0&&(s=s.charAt(0).toUpperCase()+s.slice(1)),e(s)},a.start()},[r,t,e,o]),d=(0,a.useCallback)(()=>{l.current&&("listening"===r||"activating"===r)&&l.current.stop()},[r]);return{isListening:"listening"===r,status:r,startListening:c,stopListening:d,isSupported:t}}},18623:(e,r,s)=>{s.d(r,{ck:()=>J,fC:()=>T,z$:()=>W});var a=s(17577),t=s(82561),n=s(48051),l=s(93095),i=s(45226),o=s(15594),c=s(52067),d=s(17124),u=s(2566),m=s(53405),h=s(9815),x=s(10326),p="Radio",[f,j]=(0,l.b)(p),[v,b]=f(p),g=a.forwardRef((e,r)=>{let{__scopeRadio:s,name:l,checked:o=!1,required:c,disabled:d,value:u="on",onCheck:m,form:h,...p}=e,[f,j]=a.useState(null),b=(0,n.e)(r,e=>j(e)),g=a.useRef(!1),y=!f||h||!!f.closest("form");return(0,x.jsxs)(v,{scope:s,checked:o,disabled:d,children:[(0,x.jsx)(i.WV.button,{type:"button",role:"radio","aria-checked":o,"data-state":C(o),"data-disabled":d?"":void 0,disabled:d,value:u,...p,ref:b,onClick:(0,t.M)(e.onClick,e=>{o||m?.(),y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),y&&(0,x.jsx)(w,{control:f,bubbles:!g.current,name:l,value:u,checked:o,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});g.displayName=p;var y="RadioIndicator",N=a.forwardRef((e,r)=>{let{__scopeRadio:s,forceMount:a,...t}=e,n=b(y,s);return(0,x.jsx)(h.z,{present:a||n.checked,children:(0,x.jsx)(i.WV.span,{"data-state":C(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:r})})});N.displayName=y;var w=e=>{let{control:r,checked:s,bubbles:t=!0,...n}=e,l=a.useRef(null),i=(0,m.D)(s),o=(0,u.t)(r);return a.useEffect(()=>{let e=l.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==s&&r){let a=new Event("click",{bubbles:t});r.call(e,s),e.dispatchEvent(a)}},[i,s,t]),(0,x.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(e){return e?"checked":"unchecked"}var k=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I="RadioGroup",[P,z]=(0,l.b)(I,[o.Pc,j]),R=(0,o.Pc)(),F=j(),[S,E]=P(I),V=a.forwardRef((e,r)=>{let{__scopeRadioGroup:s,name:a,defaultValue:t,value:n,required:l=!1,disabled:u=!1,orientation:m,dir:h,loop:p=!0,onValueChange:f,...j}=e,v=R(s),b=(0,d.gm)(h),[g,y]=(0,c.T)({prop:n,defaultProp:t,onChange:f});return(0,x.jsx)(S,{scope:s,name:a,required:l,disabled:u,value:g,onValueChange:y,children:(0,x.jsx)(o.fC,{asChild:!0,...v,orientation:m,dir:b,loop:p,children:(0,x.jsx)(i.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":m,"data-disabled":u?"":void 0,dir:b,...j,ref:r})})})});V.displayName=I;var A="RadioGroupItem",$=a.forwardRef((e,r)=>{let{__scopeRadioGroup:s,disabled:l,...i}=e,c=E(A,s),d=c.disabled||l,u=R(s),m=F(s),h=a.useRef(null),p=(0,n.e)(r,h),f=c.value===i.value,j=a.useRef(!1);return a.useEffect(()=>{let e=e=>{k.includes(e.key)&&(j.current=!0)},r=()=>j.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),(0,x.jsx)(o.ck,{asChild:!0,...u,focusable:!d,active:f,children:(0,x.jsx)(g,{disabled:d,required:c.required,checked:f,...m,...i,name:c.name,ref:p,onCheck:()=>c.onValueChange(i.value),onKeyDown:(0,t.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,t.M)(i.onFocus,()=>{j.current&&h.current?.click()})})})});$.displayName=A;var G=a.forwardRef((e,r)=>{let{__scopeRadioGroup:s,...a}=e,t=F(s);return(0,x.jsx)(N,{...t,...a,ref:r})});G.displayName="RadioGroupIndicator";var T=V,J=$,W=G},61896:(e,r,s)=>{s.d(r,{Z:()=>a});let a=(0,s(9664).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},40035:(e,r,s)=>{s.d(r,{Z:()=>a});let a=(0,s(9664).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},63144:(e,r,s)=>{s.d(r,{Z:()=>a});let a=(0,s(9664).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])}};